communication:
- name: ethernet
  params:
    host: {type: value, value: 127.0.0.1}
    max_active_requests: {type: value, value: 1}
    default_timeout: {type: value, value: 0.5}
    auto_reconnect_after: {type: value, value: 5}
  type: modbus_tcp2
- name: test_gcp_device_id
  params:
    client: {type: ref_comms, value: ethernet}
    config: {type: ref_path, value: config/test_dev.yaml}
    device_id: {type: value, value: test_gcp_device_id}
    unit: {type: value, value: 1}
    poll_intervals: {type: value, value: {poll: 1}}
  type: modbus_device
  version: 1
devices: [test_gcp_device_id]