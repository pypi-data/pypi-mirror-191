"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7418],{79992:function(e,n,t){t.d(n,{Z:function(){return s}});var r,i=t(85657);t(67294);!function(e){e.IDENTITY_UNVERIFIED="identity_unverified",e.REQUIRES_INPUT="requires_input",e.PENDING="pending",e.APPROVED="approved",e.DENIED="denied",e.IN_PROCESSING="in_processing",e.COMPLETE="complete",e.PAUSED="paused",e.CANCELED="canceled",e.ERROR="error"}(r||(r={}));var o=t(85893),s=function(e){var n=e.daysLeft,t=e.includeText,s=e.status;if(!n||s===r.COMPLETE||s===r.CANCELED||s===r.DENIED||s===r.IDENTITY_UNVERIFIED)return null;var c="";switch(!0){case n>=10:c="green.500";break;case n<10&&n>4:c="orange.500";break;case n<5:c="red.400"}var l=t?"".concat(n," days left"):n;return(0,o.jsx)(i.Vp,{backgroundColor:c,color:"white",children:l})}},3357:function(e,n,t){var r=t(85893);n.Z=function(e){var n=e.data,t=e.revealPII?n:n.replace(/./g,"*");return(0,r.jsx)(r.Fragment,{children:t})}},26012:function(e,n,t){var r=t(82350),i=(t(67294),t(85893));n.Z=function(e){var n=e.revealPII,t=e.onChange;return(0,i.jsx)(r.r,{colorScheme:"secondary",isChecked:n,onChange:function(e){return t(e.target.checked)}})}},9234:function(e,n,t){var r=t(23256),i=t(85893),o={approved:{bg:"yellow.500",label:"Approved"},complete:{bg:"green.500",label:"Completed"},denied:{bg:"red.500",label:"Denied"},canceled:{bg:"red.600",label:"Canceled"},error:{bg:"red.800",label:"Error"},in_processing:{bg:"orange.500",label:"In Progress"},paused:{bg:"gray.400",label:"Paused"},pending:{bg:"blue.400",label:"New"},identity_unverified:{bg:"red.400",label:"Unverified"},requires_input:{bg:"yellow.400",label:"Requires Input"}};n.Z=function(e){var n=e.status;return(0,i.jsx)(r.Ct,{color:"white",bg:o[n].bg,width:107,lineHeight:"18px",textAlign:"center",children:o[n].label})}},13720:function(e,n,t){var r=t(85657),i=t(23256),o=t(44188),s=(t(67294),t(10061)),c=t(85893);n.Z=function(e){var n=e.rules,t=Array.from(new Set(n.filter((function(e){return Object.values(o.U).includes(e.action_type)})).map((function(e){return(0,s.kC)(e.action_type)})))).map((function(e){return(0,c.jsx)(r.Vp,{color:"white",bg:"primary.400",fontWeight:"medium",fontSize:"sm",children:e},e)}));return(0,c.jsx)(i.xu,{children:t})}},70783:function(e,n,t){t.d(n,{HK:function(){return o},VY:function(){return r.V}});var r=t(63719),i=t(65698),o=function(){var e=(0,r.V)().errorAlert;return{handleError:function(n){var t="An unexpected error occurred. Please try again.";(0,i.Ot)(n)?t=n.data.detail:(0,i.tB)(n)&&(t=n.data.detail[0].msg),e(t)}}};t(67294)},63719:function(e,n,t){t.d(n,{V:function(){return d}});var r=t(59499),i=t(13450),o=t(26707),s=t(23256),c=t(93225),l=t(85893);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var d=function(){var e=(0,i.pm)();return{errorAlert:function(n,t,r){var i=u(u({},r),{},{position:(null===r||void 0===r?void 0:r.position)||"top",render:function(e){var r=e.onClose;return(0,l.jsxs)(o.bZ,{alignItems:"normal",status:"error",children:[(0,l.jsx)(o.zM,{}),(0,l.jsxs)(s.xu,{children:[t&&(0,l.jsx)(o.Cd,{children:t}),(0,l.jsx)(o.X,{children:n})]}),(0,l.jsx)(c.P,{onClick:r,position:"relative",right:0,size:"sm",top:-1})]})}});null!==r&&void 0!==r&&r.id&&e.isActive(r.id)?e.update(r.id,i):e(i)},successAlert:function(n,t,r){var i=u(u({},r),{},{position:(null===r||void 0===r?void 0:r.position)||"top",render:function(e){var r=e.onClose;return(0,l.jsxs)(o.bZ,{alignItems:"normal",status:"success",variant:"subtle",children:[(0,l.jsx)(o.zM,{}),(0,l.jsxs)(s.xu,{children:[t&&(0,l.jsx)(o.Cd,{children:t}),(0,l.jsx)(o.X,{children:n})]}),(0,l.jsx)(c.P,{onClick:r,position:"relative",right:0,size:"sm",top:-1})]})}});null!==r&&void 0!==r&&r.id&&e.isActive(r.id)?e.update(r.id,i):e(i)}}}},57418:function(e,n,t){t.d(n,{Z:function(){return ee}});var r,i=t(23256),o=t(67294),s=t(48591),c=t(85893),l=function(e){var n=e.subjectRequest,t=e.setEventDetails,r=n.results,o=r?Object.keys(r):[],l=o.map((function(e,n){return(0,c.jsxs)(i.xu,{children:[(0,c.jsxs)(i.kC,{alignItems:"center",height:23,position:"relative",children:[(0,c.jsx)(i.xu,{zIndex:1,children:(0,c.jsx)(s.St,{})}),n===o.length-1?null:(0,c.jsx)(i.xu,{width:"2px",height:"63px",backgroundColor:"gray.700",position:"absolute",top:"16px",left:"6px",zIndex:0}),(0,c.jsx)(i.xv,{color:"gray.600",fontWeight:"500",fontSize:"sm",ml:2,children:e})]}),(0,c.jsx)(i.xv,{cursor:"pointer",color:"complimentary.500",fontWeight:"500",fontSize:"sm",ml:6,mb:7,onClick:function(){t({key:e,logs:r[e]})},children:"View Details"})]},e)}));return(0,c.jsxs)(i.xu,{width:"100%",children:[(0,c.jsx)(i.xv,{color:"gray.900",fontSize:"md",fontWeight:"500",mb:1,children:"Activity Timeline"}),l]})},a=t(97375),u=t(26537),d=t(43894),h=t(59876),x=t(85657),f=t(77601),p=t(83703);!function(e){e.COPY="Copy",e.COPIED="Copied"}(r||(r={}));var g=function(e){var n=function(e){var n=(0,a.VP)(e).onCopy,t=(0,o.useState)(!1),i=t[0],s=t[1],c=(0,o.useState)(r.COPY),l=c[0],u=c[1];return{tooltipText:l,highlighted:i,handleMouseDown:function(){u(r.COPIED),n()},handleMouseUp:function(){s(!1)},handleMouseEnter:function(){s(!0)},handleMouseLeave:function(){s(!1)},setTooltipText:u}}(e.copyText),t=n.tooltipText,i=n.highlighted,s=n.handleMouseDown,l=n.handleMouseUp,u=n.handleMouseEnter,d=n.handleMouseLeave,h=n.setTooltipText,x=i?"complimentary.500":"gray.600";return(0,c.jsx)(f.u,{label:t,placement:"top",closeDelay:500,onOpen:function(){h(r.COPY)},onClose:function(){h(r.COPY)},children:(0,c.jsx)(p.JO,{cursor:"pointer",width:18,height:18,viewBox:"0 0 18 18",color:x,onClick:s,onMouseUp:l,onMouseEnter:u,onMouseLeave:d,children:(0,c.jsx)("path",{fill:"currentColor",d:"M15 3.75V0H10.625C9.58945 0 8.75 0.839453 8.75 1.875V13.125C8.75 14.1605 9.58945 15 10.625 15H18.125C19.1605 15 20 14.1605 20 13.125V5H16.2852C15.5625 5 15 4.4375 15 3.75ZM16.25 0V3.75H20L16.25 0ZM7.5 13.75V5H1.875C0.839453 5 0 5.83945 0 6.875V18.125C0 19.1605 0.839453 20 1.875 20H9.375C10.4105 20 11.25 19.1605 11.25 18.125V16.25H10C8.62109 16.25 7.5 15.1289 7.5 13.75Z"})})})},j=function(e){var n=e.errorMessage;return(0,c.jsxs)(i.xu,{height:"100%",id:"outer",children:[(0,c.jsxs)(i.kC,{alignItems:"center",paddingBottom:"8px",children:[(0,c.jsx)(i.xv,{size:"sm",color:"gray.700",fontWeight:"medium",marginRight:"8px",lineHeight:"20px",children:"Status"}),(0,c.jsx)(x.Vp,{size:"sm",height:"20px",backgroundColor:"red.500",color:"white",marginRight:"8px",children:"Error"}),(0,c.jsx)(i.xu,{padding:"0px",marginBottom:"3px",children:(0,c.jsx)(g,{copyText:n})})]}),(0,c.jsx)(i.iz,{}),(0,c.jsx)(i.xu,{id:"errorWrapper",overflow:"auto",height:"100%",children:(0,c.jsx)(i.xv,{children:n})})]})},m=t(78522),v=t(10061),b=t(44188),y=function(e){var n=e.eventLogs,t=e.openErrorPanel,r=null===n||void 0===n?void 0:n.map((function(e){return(0,c.jsxs)(m.Tr,{_hover:{backgroundColor:e.status===b.n.ERROR?"#F7FAFC":"unset"},onClick:function(){e.status===b.n.ERROR&&t(e.message)},style:{cursor:e.status===b.n.ERROR?"pointer":"unset"},children:[(0,c.jsx)(m.Td,{children:(0,c.jsx)(i.xv,{color:"gray.600",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:(0,v.p6)(e.updated_at)})}),(0,c.jsx)(m.Td,{children:(0,c.jsx)(i.xv,{color:"gray.600",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:e.status})}),(0,c.jsx)(m.Td,{children:(0,c.jsx)(i.xv,{color:"gray.600",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:e.collection_name})})]},e.updated_at)}));return(0,c.jsx)(i.xu,{width:"100%",paddingTop:"0px",height:"100%",children:(0,c.jsx)(m.xJ,{id:"tableContainer",height:"100%",style:{overflowY:"auto"},children:(0,c.jsxs)(m.iA,{size:"sm",id:"table",position:"relative",children:[(0,c.jsx)(m.hr,{id:"tableHeader",position:"sticky",top:"0px",backgroundColor:"white",children:(0,c.jsxs)(m.Tr,{children:[(0,c.jsx)(m.Th,{children:(0,c.jsx)(i.xv,{color:"black",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:"Time"})}),(0,c.jsx)(m.Th,{children:(0,c.jsx)(i.xv,{color:"black",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:"Status"})}),(0,c.jsx)(m.Th,{children:(0,c.jsx)(i.xv,{color:"black",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:"Collection"})})]})}),(0,c.jsx)(m.p3,{id:"tabelBody",children:r})]})})})},O=function(e){var n=e.eventData,t=(0,a.qY)(),r=t.isOpen,l=t.onOpen,x=t.onClose,f=(0,o.useState)(!1),p=f[0],g=f[1],m=(0,o.useState)(""),v=m[0],b=m[1],O=function(){g(!1)},C=function(){p&&O(),x()},S=p?"Event detail":"Event log";return void 0===n?null:(0,c.jsxs)(i.xu,{width:"100%",paddingTop:"0px",height:"100%",children:[(0,c.jsx)(i.xv,{color:"gray.900",fontSize:"md",fontWeight:"500",mb:1,children:"Event Details"}),(0,c.jsx)(i.xv,{color:"gray.600",fontSize:"sm",fontWeight:"500",lineHeight:"20px",mb:1,children:n.key}),(0,c.jsx)(i.iz,{}),(0,c.jsx)(i.xv,{cursor:"pointer",color:"complimentary.500",fontWeight:"500",fontSize:"sm",onClick:function(){l()},children:"View Log"}),(0,c.jsxs)(u.dy,{isOpen:r,placement:"right",onClose:C,size:"full",autoFocus:!1,children:[(0,c.jsx)(u.P1,{}),(0,c.jsxs)(u.sc,{style:{width:"50%"},children:[(0,c.jsx)(u.OX,{style:{paddingBottom:"0px"},children:(0,c.jsxs)(i.kC,{justifyContent:"space-between",alignItems:"center",height:"40px",children:[(0,c.jsxs)(i.kC,{alignItems:"center",children:[p?(0,c.jsx)(d.hU,{icon:(0,c.jsx)(h.Rp,{}),"aria-label":"Close error logs",size:"sm",style:{height:"24px",width:"24px",minWidth:"24px",marginRight:"8px"},onClick:O}):null,(0,c.jsx)(i.xv,{color:"gray.900",fontSize:"md",lineHeight:"6",fontWeight:"medium",children:S})]}),(0,c.jsx)(i.kC,{alignItems:"flex-start",height:"100%",children:(0,c.jsx)(d.hU,{icon:(0,c.jsx)(s.LG,{width:"17px"}),"aria-label":"Stop viewing error message",variant:"unstyled",size:"sm",style:{height:"24px",width:"24px",minWidth:"14px",backgroundColor:"#00000000"},isRound:!0,onClick:C})})]})}),(0,c.jsxs)(u.Ng,{id:"drawerBody",overflow:"hidden",children:[n&&!p?(0,c.jsx)(y,{eventLogs:n.logs,openErrorPanel:function(e){b(e),g(!0)}}):null,p?(0,c.jsx)(j,{errorMessage:v}):null]})]})]})]})},C=function(e){var n=e.subjectRequest,t=(0,o.useState)(),r=t[0],s=t[1];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.X6,{color:"gray.900",fontSize:"lg",fontWeight:"semibold",mb:4,children:"Events and logs"}),(0,c.jsx)(i.iz,{}),(0,c.jsxs)(i.kC,{mt:3,children:[(0,c.jsx)(l,{subjectRequest:n,setEventDetails:s}),(0,c.jsx)(O,{eventData:r})]})]})},S=t(59499),w=t(50029),k=t(16835),P=t(87794),z=t.n(P),E=t(44359),R=t(70783),I=t(24302),_=t(11163),D=t(70918),T=t(14416),W=t(18459),q=t(27634),Z=t(30268),M=t(82175),A=t(74231);function N(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function V(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?N(Object(t),!0).forEach((function(n){(0,S.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var H=function(e){var n=e.connectorName,t=e.data,r=e.isSubmitting,s=void 0!==r&&r,l=e.onSaveClick,h=(0,a.qY)(),x=h.isOpen,f=h.onOpen,p=h.onClose,g=(0,o.useRef)(null),j=function(){var e=(0,w.Z)(z().mark((function e(n,r){var i;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i={connection_key:t.connection_key,privacy_request_id:t.privacy_request_id,body:V({},n)},l(i),p();case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,c.jsxs)(c.Fragment,{children:[(null===t||void 0===t?void 0:t.checked)&&(0,c.jsx)(d.zx,{color:"gray.700",fontSize:"xs",h:"24px",onClick:f,variant:"outline",w:"58px",children:"Review"}),!(null!==t&&void 0!==t&&t.checked)&&(0,c.jsx)(d.zx,{color:"white",bg:"primary.800",fontSize:"xs",h:"24px",onClick:f,w:"127px",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},children:"Begin manual input"}),(0,c.jsx)(M.J9,{enableReinitialize:!0,initialValues:V({},t.fields),onSubmit:j,validateOnBlur:!1,validateOnChange:!1,validationSchema:A.Ry().shape({}),children:function(e){return(0,c.jsxs)(u.dy,{isOpen:x,placement:"right",initialFocusRef:g,onClose:p,size:"lg",children:[(0,c.jsx)(u.P1,{}),(0,c.jsxs)(u.sc,{children:[(0,c.jsx)(u.cC,{}),(0,c.jsxs)(u.OX,{color:"gray.900",children:[(0,c.jsx)(i.xv,{fontSize:"xl",mb:4,children:n}),(0,c.jsx)(i.iz,{}),(0,c.jsx)(i.xv,{fontSize:"md",mt:"8",children:"PII Requirements"}),(0,c.jsx)(i.xu,{mt:"8px",children:(0,c.jsx)(i.xv,{color:"gray.700",fontSize:"sm",fontWeight:"normal",children:"Please complete the following PII fields that have been collected for the selected subject."})})]}),(0,c.jsx)(u.Ng,{mt:"24px",children:(0,c.jsx)(M.l0,{id:"manual-detail-form",noValidate:!0,children:(0,c.jsx)(i.gC,{align:"stretch",gap:"16px",children:Object.entries(t.fields).map((function(e,n){var t=(0,k.Z)(e,1)[0];return(0,c.jsx)(i.Ug,{children:(0,c.jsx)(M.gN,{id:t,name:t,children:function(e){var r=e.field;return(0,c.jsxs)(q.NI,{alignItems:"baseline",display:"inline-flex",children:[(0,c.jsx)(q.lX,{color:"gray.900",fontSize:"14px",fontWeight:"semibold",htmlFor:t,w:"50%",children:t}),(0,c.jsx)(Z.II,V(V({},r),{},{autoComplete:"off",color:"gray.700",placeholder:"Please enter ".concat(t),ref:0===n?g:void 0,size:"sm"}))]})}})},t)}))})})}),(0,c.jsx)(u.ze,{justifyContent:"flex-start",children:(0,c.jsxs)(d.hE,{size:"sm",spacing:"8px",variant:"outline",children:[(0,c.jsx)(d.zx,{onClick:p,variant:"outline",children:"Cancel"}),(0,c.jsx)(d.zx,{bg:"primary.800",color:"white",form:"manual-detail-form",isLoading:s,loadingText:"Submitting",size:"sm",variant:"solid",type:"submit",_active:{bg:"primary.500"},_hover:{bg:"primary.400"},children:"Save"})]})})]})]})}})]})};function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function U(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?L(Object(t),!0).forEach((function(n){(0,S.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var F=function(e){var n=e.subjectRequest,t=(0,T.useDispatch)(),r=(0,_.useRouter)(),s=(0,R.VY)(),l=s.errorAlert,a=s.successAlert,u=(0,R.HK)().handleError,h=(0,o.useState)([]),x=h[0],f=h[1],p=(0,o.useState)(!1),g=p[0],j=p[1],v=(0,o.useState)(!1),b=v[0],y=v[1],O=(0,I.W6)(),C=O.data,S=O.isFetching,P=O.isLoading,q=O.isSuccess,Z=(0,D.w3)(),M=(0,k.Z)(Z,1)[0],A=(0,D.hY)(),N=(0,k.Z)(A,1)[0],V=function(){var e=(0,w.Z)(z().mark((function e(){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,M(n.id).unwrap();case 4:a("Manual request has been received. Request now processing."),r.push(W.gp),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u(e.t0);case 11:return e.prev=11,j(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,w.Z)(z().mark((function e(n){var t,r;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,N(n).unwrap();case 4:t={connection_key:n.connection_key,fields:{}},Object.entries(n.body).forEach((function(e){var n=(0,k.Z)(e,2),r=n[0],i=n[1];t.fields[r]=i||""})),r=x.map((function(e){return e.connection_key===t.connection_key?U(U({},e),{},{checked:!0,fields:U({},t.fields)}):e})),f(r),a("Manual input successfully saved!"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),u(e.t0);case 14:return e.prev=14,y(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(n){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){return q&&C.length>0&&0===x.length&&function(){if(!(x.length>0)){var e=[],r=null===C||void 0===C?void 0:C.map((function(e){return e.connection_config.key}));null===r||void 0===r||r.every((function(r){return e.push(t(D.$I.endpoints.getUploadedManualWebhookData.initiate({connection_key:r,privacy_request_id:n.id})))})),Promise.allSettled(e).then((function(e){var n=[];e.forEach((function(e,t){if("fulfilled"===e.status&&e.value.isSuccess&&e.value.data){var r={checked:e.value.data.checked,fields:{},connection_key:e.value.originalArgs.connection_key,privacy_request_id:e.value.originalArgs.privacy_request_id};Object.entries(e.value.data.fields).forEach((function(e){var n=(0,k.Z)(e,2),t=n[0],i=n[1];r.fields[t]=i||""})),n.push(r)}else l("An error occurred while loading manual input data for ".concat(C[t].connection_config.name))})),f(n)}))}}(),function(){}}),[C,x.length,t,l,q,n.id]),(0,c.jsxs)(i.gC,{align:"stretch",spacing:8,children:[(0,c.jsxs)(i.xu,{children:[(0,c.jsx)(i.X6,{color:"gray.900",fontSize:"lg",fontWeight:"semibold",mb:4,children:"Manual Processing"}),(0,c.jsx)(i.iz,{})]}),(0,c.jsx)(i.xu,{children:(0,c.jsx)(i.xv,{color:"gray.700",fontSize:"sm",children:"The following table details the integrations that require manual input from you."})}),(0,c.jsxs)(i.xu,{children:[(S||P)&&(0,c.jsx)(i.M5,{children:(0,c.jsx)(E.$,{})}),q&&C?(0,c.jsx)(m.xJ,{children:(0,c.jsxs)(m.iA,{size:"sm",variant:"unstyled",children:[(0,c.jsx)(m.hr,{children:(0,c.jsxs)(m.Tr,{children:[(0,c.jsx)(m.Th,{fontSize:"sm",fontWeight:"semibold",pl:"0",textTransform:"none",children:"Connector name"}),(0,c.jsx)(m.Th,{fontSize:"sm",fontWeight:"semibold",textTransform:"none",children:"Description"}),(0,c.jsx)(m.Th,{})]})}),(0,c.jsxs)(m.p3,{children:[C.length>0&&C.map((function(e){return(0,c.jsxs)(m.Tr,{children:[(0,c.jsx)(m.Td,{pl:"0",children:e.connection_config.name}),(0,c.jsx)(m.Td,{children:e.connection_config.description}),(0,c.jsx)(m.Td,{children:x.length>0?(0,c.jsx)(H,{connectorName:e.connection_config.name,data:x.find((function(n){return n.connection_key===e.connection_config.key})),isSubmitting:b,onSaveClick:L}):null})]},e.id)})),0===C.length&&(0,c.jsx)(m.Tr,{children:(0,c.jsx)(m.Td,{colSpan:3,pl:"0",children:(0,c.jsx)(i.M5,{children:(0,c.jsx)(i.xv,{children:"You don\u2018t have any Manual Webhook connections set up yet."})})})})]}),x.length>0&&x.every((function(e){return e.checked}))?(0,c.jsx)(m.$R,{children:(0,c.jsxs)(m.Tr,{children:[(0,c.jsx)(m.Th,{}),(0,c.jsx)(m.Th,{}),(0,c.jsx)(m.Th,{children:(0,c.jsx)(d.zx,{color:"white",bg:"primary.800",fontSize:"xs",h:"24px",isLoading:g,loadingText:"Completing DSR",onClick:V,w:"127px",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},children:"Complete DSR"})})]})}):null]})}):null]})]})},Y=t(79992),B=t(9234),X=t(13720),G=t(1521),J=function(e){var n=e.subjectRequest,t=n.id,r=n.status,o=n.policy;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.X6,{color:"gray.900",fontSize:"lg",fontWeight:"semibold",mb:4,children:"Request details"}),(0,c.jsx)(i.iz,{}),(0,c.jsxs)(i.kC,{alignItems:"center",children:[(0,c.jsx)(i.xv,{mt:4,mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Request ID:"}),(0,c.jsx)(i.xv,{color:"gray.600",fontWeight:"500",fontSize:"sm",mr:1,children:t}),(0,c.jsx)(g,{copyText:t})]}),(0,c.jsxs)(i.kC,{alignItems:"center",children:[(0,c.jsx)(i.xv,{mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Request Type:"}),(0,c.jsx)(i.xu,{mr:1,mb:4,children:(0,c.jsx)(X.Z,{rules:o.rules})})]}),(0,c.jsxs)(i.kC,{children:[(0,c.jsx)(i.xv,{mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Policy key:"}),(0,c.jsx)(i.xu,{children:(0,c.jsx)(x.Vp,{color:"white",bg:"primary.400",fontWeight:"medium",fontSize:"sm",children:n.policy.key})})]}),(0,c.jsxs)(i.kC,{alignItems:"flex-start",children:[(0,c.jsx)(i.xv,{mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Status:"}),(0,c.jsxs)(i.Ug,{spacing:"16px",children:[(0,c.jsx)(B.Z,{status:r}),"error"===r&&(0,c.jsx)(G.Z,{buttonProps:{size:"xs"},subjectRequest:n}),(0,c.jsx)(Y.Z,{daysLeft:n.days_left,includeText:!0,status:n.status})]})]})]})},$=t(3357),K=t(26012),Q=function(e){var n=e.subjectRequest.identity,t=(0,o.useState)(!1),r=t[0],s=t[1];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(i.kC,{direction:"row",justifyContent:"space-between",children:[(0,c.jsx)(i.X6,{color:"gray.900",fontSize:"lg",fontWeight:"semibold",mb:4,children:"Subject identities"}),(0,c.jsxs)(i.kC,{flexShrink:0,alignItems:"flex-start",children:[(0,c.jsx)(K.Z,{revealPII:r,onChange:s}),(0,c.jsx)(i.xv,{fontSize:"xs",ml:2,size:"sm",color:"gray.600",fontWeight:"500",children:"Reveal PII"})]})]}),(0,c.jsx)(i.iz,{}),(0,c.jsxs)(i.kC,{alignItems:"center",children:[(0,c.jsx)(i.xv,{mt:4,mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Email:"}),(0,c.jsx)(i.xv,{color:"gray.600",fontWeight:"500",fontSize:"sm",children:(0,c.jsx)($.Z,{data:n.email?n.email:"",revealPII:r})})]}),(0,c.jsxs)(i.kC,{alignItems:"flex-start",children:[(0,c.jsx)(i.xv,{mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Mobile:"}),(0,c.jsx)(i.xv,{color:"gray.600",fontWeight:"500",fontSize:"sm",children:(0,c.jsx)($.Z,{data:n.phone_number?n.phone_number:"",revealPII:r})})]})]})},ee=function(e){var n=e.data;return(0,c.jsxs)(i.gC,{align:"stretch",display:"flex-start",spacing:6,children:[(0,c.jsx)(i.xu,{children:(0,c.jsx)(J,{subjectRequest:n})}),(0,c.jsx)(i.xu,{children:(0,c.jsx)(Q,{subjectRequest:n})}),"requires_input"===n.status&&(0,c.jsx)(i.xu,{children:(0,c.jsx)(F,{subjectRequest:n})}),(0,c.jsx)(i.xu,{children:(0,c.jsx)(C,{subjectRequest:n})})]})}},1521:function(e,n,t){var r=t(59499),i=t(50029),o=t(16835),s=t(87794),c=t.n(s),l=t(37178),a=t(23256),u=t(43894),d=t(67294),h=t(97142),x=t(65698),f=t(70783),p=t(70918),g=t(85893);function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var v=(0,l.Gp)((function(e,n){var t=e.buttonProps,r=e.handleBlur,s=e.subjectRequest,l=(0,h.T)(),j=(0,d.useState)(!1),v=j[0],b=j[1],y=(0,f.VY)(),O=y.errorAlert,C=y.successAlert,S=(0,h.C)(p.fe).errorRequests,w=(0,p.JD)(),k=(0,o.Z)(w,1)[0],P=(0,p.Fq)(),z=(0,o.Z)(P,1)[0],E=function(){var e=(0,i.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,k(S);case 3:"error"in(n=e.sent)?(l((0,p.uT)({checkAll:!1,errorRequests:[]})),O((0,x.e$)(n.error),"DSR batch automation has failed due to the following:",{duration:null})):(n.data.failed.length>0&&O((0,g.jsxs)(a.xu,{children:["DSR automation has failed for"," ",(0,g.jsx)(a.xv,{as:"span",fontWeight:"semibold",children:n.data.failed.length})," ","privacy request(s). Please review the event log for further details."]}),void 0,{containerStyle:{maxWidth:"max-content"},duration:null}),n.data.succeeded.length>0&&C("Privacy request(s) are now being reprocessed.")),b(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:return b(!0),e.next=5,z(s);case 5:"error"in(t=e.sent)?O((0,x.e$)(t.error),"DSR automation has failed for this privacy request due to the following:",{duration:null}):C("Privacy request is now being reprocessed."),b(!1),r&&r(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,g.jsx)(u.zx,m(m({},t),{},{isDisabled:v,isLoading:v,loadingText:"Reprocessing",onClick:s?R:E,ref:n,spinnerPlacement:"end",variant:"outline",_hover:{bg:"gray.100"},_loading:{opacity:1,div:{opacity:.4}},children:"Reprocess"}))}));n.Z=v},44188:function(e,n,t){var r,i;t.d(n,{U:function(){return r},n:function(){return i}}),function(e){e.ACCESS="access",e.ERASURE="erasure"}(r||(r={})),function(e){e.IN_PROCESSING="in_processing",e.PENDING="pending",e.COMPLETE="complete",e.ERROR="error",e.PAUSED="paused",e.RETRYING="retrying",e.SKIPPED="skipped"}(i||(i={}))}}]);