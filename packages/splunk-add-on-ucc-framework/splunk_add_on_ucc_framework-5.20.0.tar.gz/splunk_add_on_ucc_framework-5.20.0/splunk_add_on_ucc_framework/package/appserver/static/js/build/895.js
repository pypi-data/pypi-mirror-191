"use strict";(self.webpackChunk_splunk_ucc_ui_lib=self.webpackChunk_splunk_ucc_ui_lib||[]).push([[895],{895:(e,n,t)=>{t.r(n),t.d(n,{default:()=>le});var r=t(67294),o=t(89250),i=t(71569),a=t.n(i),u=t(12788),c=t(41946),l=t.n(c),s=t(62672),f=t.n(s),p=t(36219),m=t(64255),d=t(71263),y=t(56057),b=t(6549),h=t(24843),g=t(99881),v=t(45697),j=t.n(v),S=t(76416),O=t.n(S),w=t(96635),x=t.n(w),P=t(72725),_=t.n(P),N=t(27354),C=t.n(N),I=t(80720),k=t.n(I),R=t(79609),T=t(74266),E=t(85893);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function q(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B(r.key),r)}}function D(e,n){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},D(e,n)}function L(e,n){if(n&&("object"===A(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function z(e,n,t){return(n=B(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function B(e){var n=function(e,n){if("object"!==A(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===A(n)?n:String(n)}var K=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&D(e,n)}(a,e);var n,t,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Z(r);if(o){var t=Z(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return L(this,e)});function a(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),z(M(n=i.call(this,e)),"setValue",(function(e){n.props.handleChange(e)})),z(M(n),"loadCustomMenu",(function(){return new Promise((function(e){if("external"===n.props.type)import("".concat((0,T.a)(),"/custom/").concat(n.props.fileName,".js")).then((function(n){var t=n.default;e(t)}));else{var t=(0,m.YK)().meta.name;require(["app/".concat(t,"/js/build/custom/").concat(n.props.fileName)],(function(n){return e(n)}))}}))})),n.state={loading:!0},n.shouldRender=!0,n}return n=a,(t=[{key:"componentDidMount",value:function(){var e=this,n=(0,m.YK)();this.setState({loading:!0}),this.loadCustomMenu().then((function(t){new t(n,e.el,e.setValue).render(),e.setState({loading:!1})}))}},{key:"shouldComponentUpdate",value:function(e,n){return!(n.loading||!this.shouldRender||(this.shouldRender=!1,0))}},{key:"render",value:function(){var e=this;return(0,E.jsxs)(E.Fragment,{children:[this.state.loading&&(0,p._)("Loading..."),(0,E.jsx)("span",{ref:function(n){e.el=n},style:{visibility:this.state.loading?"hidden":"visible"}})]})}}])&&q(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),a}(r.Component);K.propTypes={fileName:j().string.isRequired,type:j().string,handleChange:j().func};const F=K;function U(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(u.push(r.value),u.length!==n);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,n)||function(e,n){if(e){if("string"==typeof e)return Y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Y(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function V(e){var n=e.handleRequestOpen,t=U((0,r.useState)("main_panel"),2),o=t[0],i=t[1],a=U((0,r.useState)("forward"),2),u=a[0],c=a[1],l=U((0,r.useState)(!1),2),s=l[0],f=l[1],d=U((0,r.useState)(!1),2),y=d[0],b=d[1],h=(0,m.YK)().pages.inputs,g=h.services,v=h.menu,j=h.groupsMenu,S=["clickAway","escapeKey","offScreen","toggleClick","contentClick"],w=(0,E.jsx)(O(),{appearance:"primary",id:"addInputBtn",label:(0,p._)("Create New Input"),isMenu:!0});(0,r.useEffect)((function(){y&&(f(!0),b(!1))}),[s]);var P;return!g||null!=v&&v.src?(0,E.jsx)(E.Fragment,{children:r.createElement(F,{fileName:v.src,type:v.type,handleChange:function(e){var t=e.service;n(t)}})}):1===g.length?(0,E.jsx)(O(),{label:(0,R.P)(100),appearance:"primary",id:"addInputBtn",onClick:function(){n(g[0].name)}}):(0,E.jsx)(x(),{toggle:w,open:s,onRequestClose:function(e){var n=e.reason;f(!S.includes(n))},onRequestOpen:function(){f(!0)},children:(0,E.jsx)(C(),{activePanelId:o,transition:u,style:{width:"200px"},children:(P={main_panel:[]},j?j.forEach((function(e){null!=e&&e.groupServices?(P[e.groupName]=[],e.groupServices.forEach((function(n){P[e.groupName].push({name:n,title:g.find((function(e){return e.name===n})).title,hasSubmenu:!1})})),P.main_panel.push({name:e.groupName,title:e.groupTitle,hasSubmenu:!0})):P.main_panel.push({name:e.groupName,title:e.groupTitle,hasSubmenu:!1})})):P.main_panel=g.map((function(e){return{name:e.name,title:e.title,hasSubmenu:!1}})),function(e){return Object.keys(e).map((function(t){return(0,E.jsx)(C().Panel,{panelId:t,children:(0,E.jsxs)(_(),{children:["main_panel"!==t&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(_().Item,{icon:(0,E.jsx)(k(),{}),onClick:function(){i("main_panel"),c("backward"),b(!0)},children:"Back"}),(0,E.jsx)(_().Divider,{})]}),(r=e[t],o=t,r.map((function(e){return null!=e&&e.hasSubmenu?(0,E.jsx)(_().Item,{hasSubmenu:!0,onClick:function(){i(e.name),c("forward"),b(!0)},children:e.title},e.name):(0,E.jsx)(_().Item,{onClick:function(){n(e.name,o),b(!1)},children:e.title},e.name)})))]})},t);var r,o}))}(P))})})}V.propTypes={handleRequestOpen:j().func};const $=V;var G,H=t(37588),W=t(5792),J=t(5496),Q=t(63649),X=t(94893);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ne(Object(t),!0).forEach((function(n){re(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function re(e,n,t){return(n=function(e){var n=function(e,n){if("object"!==ee(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ee(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function oe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(u.push(r.value),u.length!==n);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,n)||function(e,n){if(e){if("string"==typeof e)return ie(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ie(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var ae,ue,ce=(0,u.default)(a().Row)(G||(ae=["\n    padding: 5px 0px;\n\n    .title_menu_column {\n        width: auto !important;\n    }\n\n    .page_subtitle {\n        min-height: 20px;\n    }\n\n    .dropdown {\n        text-align: right;\n    }\n"],ue||(ue=ae.slice(0)),G=Object.freeze(Object.defineProperties(ae,{raw:{value:Object.freeze(ue)}}))));const le=function(){var e=oe((0,r.useState)({open:!1}),2),n=e[0],t=e[1],i=(0,m.YK)().pages.inputs,u=i.services,c=i.title,s=i.table,v=i.description,j=!s,S=oe((0,r.useState)(u[0].name),2),O=S[0],w=S[1],x=u.find((function(e){return e.name===O})),P=[b.Oh,b.jg,b.bZ],_=u.map((function(e){return e.name})),N=(0,o.s0)(),C=(0,X.Z)();(0,r.useEffect)((function(){I(),k()}),[(0,o.TH)().search]);var I=function(){var e=u.find((function(e){return e.name===C.get("service")}));C&&e&&P.includes(C.get("action"))&&!n.open?C.get("action")!==b.jg&&n.stanzaName?t(te(te({},n),{},{open:!0,isInputPageStyle:!0,serviceName:C.get("service"),mode:C.get("action")})):t(te(te({},n),{},{open:!0,isInputPageStyle:!0,serviceName:C.get("service"),formLabel:"Create ".concat(null==e?void 0:e.title),mode:b.jg})):C.get("service")&&C.get("action")||!n.open||!n.isInputPageStyle||t(te(te({},n),{},{open:!1}))},k=function(){C&&_.includes(C.get("service"))&&w(C.get("service"))},R=function(e,r){var o=u.find((function(n){return n.name===e})),i=o.title,a=o.style===g.G;t(te(te({},n),{},{open:!0,serviceName:e,mode:b.jg,formLabel:"Add ".concat(i),isInputPageStyle:a,groupName:r})),a&&(C.set("service",e),C.set("action",b.jg),N({search:C.toString()}))},T=function(e,r){var o,i=null===(o=u.find((function(n){return n.name===e.serviceName})))||void 0===o?void 0:o.title;t(te(te({},n),{},{open:!0,isInputPageStyle:!0,serviceName:e.serviceName,stanzaName:e.name,formLabel:r===b.Oh?"Clone ".concat(i):"Update ".concat(i),mode:r})),C.set("service",e.serviceName),C.set("action",r),N({search:C.toString()})},A=(0,r.useCallback)((function(e,n){var t=n.selectedTabId;w(t),C.delete("action"),C.set("service",t),N({search:C.toString()})}),[O]);return(0,E.jsx)(J.Z,{children:(0,E.jsxs)(y.W,{value:null,children:[n.isInputPageStyle&&n.open?(0,E.jsx)(Q.Z,{open:n.open,handleRequestClose:function(){t(te(te({},n),{},{open:!1})),j||C.delete("service"),C.delete("action"),N({search:C.toString()})},serviceName:n.serviceName,stanzaName:n.stanzaName,mode:n.mode,formLabel:n.formLabel,page:h.b,groupName:n.groupName}):null," ",(0,E.jsxs)("div",{style:n.isInputPageStyle&&n.open?{display:"none"}:{display:"block"},children:[(0,E.jsx)(a(),{gutter:8,children:(0,E.jsxs)(ce,{children:[(0,E.jsxs)(a().Column,{className:j&&"title_menu_column",span:9,children:[(0,E.jsx)(d.r3,{children:j?(0,p._)(x.title):(0,p._)(c||"")}),(0,E.jsx)(d.pZ,{className:j&&"page_subtitle",children:j?(0,p._)(x.description):(0,p._)(v||"")})]}),(0,E.jsx)(a().Column,{className:j?"title_menu_column":"dropdown",span:3,children:!j&&(0,E.jsx)($,{handleRequestOpen:R})})]})}),j?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(f(),{activeTabId:O,onChange:A,children:u.map((function(e){return(0,E.jsx)(f().Tab,{label:(0,p._)(e.title),tabId:e.name},e.name)}))}),u.map((function(e){return(0,E.jsx)("div",{style:e.name!==O?{display:"none"}:{display:"block"},id:"".concat(e.name,"Tab"),children:(0,E.jsx)(H.Z,{page:h.b,serviceName:e.name,handleRequestModalOpen:function(){return R(e.name)},handleOpenPageStyleDialog:T})},e.name)}))]}):(0,E.jsx)(H.Z,{page:h.b,handleOpenPageStyleDialog:T}),(0,E.jsx)(l(),{position:"top-right"}),!n.isInputPageStyle&&n.open?(0,E.jsx)(W.Z,{page:h.b,open:n.open,handleRequestClose:function(){t(te(te({},n),{},{open:!1}))},serviceName:n.serviceName,mode:b.jg,formLabel:n.formLabel,groupName:n.groupName}):null]})]})})}}}]);