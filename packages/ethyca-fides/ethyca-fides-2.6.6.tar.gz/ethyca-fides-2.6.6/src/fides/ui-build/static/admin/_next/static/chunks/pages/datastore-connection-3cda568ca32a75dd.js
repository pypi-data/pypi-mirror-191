(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1850],{79145:function(e,n,t){"use strict";var r=t(59499),i=t(4730),s=t(23256),o=t(85893),c=["connected"];function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}n.Z=function(e){var n=e.connected,t=(0,i.Z)(e,c),l="red.500";return null==n?l="gray.300":n&&(l="green.500"),(0,o.jsx)(s.xu,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({width:"12px",height:"12px",borderRadius:"6px",backgroundColor:l},t))}},50939:function(e,n,t){"use strict";var r=t(50029),i=t(16835),s=t(87794),o=t.n(s),c=t(23256),a=t(37991),l=t(43894),u=t(48591),d=t(41664),h=t.n(d),p=(t(67294),t(14416)),x=t(18459),f=t(37161),j=t(58101),g=t(85893);n.Z=function(){var e=function(){var e;return{username:(null!==(e=(0,p.useSelector)(f.dy))&&void 0!==e?e:{username:""}).username}}().username,n=(0,f._y)(),t=(0,i.Z)(n,1)[0],s=(0,p.useDispatch)(),d=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({}).unwrap().then((function(){return s((0,f.kS)())}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,g.jsx)("header",{children:(0,g.jsxs)(c.kC,{bg:"gray.50",width:"100%",py:3,px:10,justifyContent:"space-between",alignItems:"center",children:[(0,g.jsx)(h(),{href:x.gp,passHref:!0,children:(0,g.jsx)(c.rU,{display:"flex",children:(0,g.jsx)(j.Z,{src:"/logo.svg",width:83,height:26,alt:"Fides Logo"})})}),(0,g.jsx)(c.kC,{alignItems:"center",children:e?(0,g.jsxs)(a.v2,{children:[(0,g.jsx)(a.j2,{as:l.zx,size:"sm",variant:"ghost","data-testid":"header-menu-button",children:(0,g.jsx)(u.tB,{color:"gray.700"})}),(0,g.jsxs)(a.qy,{shadow:"xl",children:[(0,g.jsx)(c.Kq,{px:3,py:2,spacing:1,children:(0,g.jsx)(c.xv,{fontWeight:"medium",children:e})}),(0,g.jsx)(a.R,{}),(0,g.jsx)(a.sN,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:d,"data-testid":"header-menu-sign-out",children:"Sign out"})]})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.UO,{boxSize:5}),(0,g.jsx)(c.rU,{href:"https://ethyca.github.io/fides/",isExternal:!0,color:"gray.700",fontWeight:"400",children:"Get help (Fides community)"})]})})]})})}},84247:function(e,n,t){"use strict";t.d(n,{Z:function(){return b}});var r=t(23256),i=t(9008),s=t.n(i),o=(t(67294),t(53700)),c=t(50939),a=t(5152),l=t.n(a),u=t(18459),d=t(85893),h=l()((function(){return t.e(9549).then(t.bind(t,29549))}),{ssr:!1,loadableGenerated:{webpack:function(){return[29549]}}}),p=function(){var e=(0,o.hz)();return(0,d.jsx)(r.kC,{borderBottom:"1px",borderTop:"1px",px:9,py:1,borderColor:"gray.100",children:(0,d.jsxs)("nav",{"data-testid":"nav-bar",children:[(0,d.jsx)(h,{title:"Privacy Requests",href:u.gp,exact:!0}),(0,d.jsx)(h,{title:"Connections",href:u.JR}),(0,d.jsx)(h,{title:"User Management",href:u.e3}),(0,d.jsx)(h,{title:"Systems",href:"/system"}),(0,d.jsx)(h,{title:"Datasets",href:"/dataset"}),e.plus?(0,d.jsx)(h,{title:"Data Map",href:"/datamap"}):null,(0,d.jsx)(h,{title:"Taxonomy",href:"/taxonomy"}),(0,d.jsx)(h,{title:"Add Systems",href:"/add-systems"})]})})},x=t(53959),f=t(11163),j=t(28026),g=t(58536),m=t(22391),v=function(){var e=(0,f.useRouter)(),n=(0,g.Y)({path:e.pathname});return!n.active||n.active.children.length<=1?null:(0,d.jsxs)(r.gC,{as:"nav",align:"left",spacing:4,width:"200px",children:[(0,d.jsx)(r.X6,{size:"md",children:n.active.title}),(0,d.jsx)(x.$6,{children:n.active.children.map((function(n){var t=n.title,r=n.path,i=(0,j.qj)({href:r,router:e}),s=i.href,o=i.isActive;return(0,d.jsx)(m.TL,{href:s,isActive:o,children:t},t)}))})]})},y=t(31444),b=function(e){var n=e.children,t=e.title,i=(0,o.hz)();return(0,d.jsxs)("div",{"data-testid":t,children:[(0,d.jsxs)(s(),{children:[(0,d.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,d.jsx)("meta",{name:"description",content:"Generated from FidesUI template"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsx)(c.Z,{}),i.flags.navV2?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(y.Z,{}),(0,d.jsxs)(r.kC,{as:"main",px:9,py:10,gap:"40px",children:[(0,d.jsx)(r.xu,{flex:0,flexShrink:0,children:(0,d.jsx)(v,{})}),(0,d.jsx)(r.kC,{direction:"column",flex:1,minWidth:0,children:n})]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p,{}),(0,d.jsx)("main",{children:(0,d.jsx)(r.xu,{px:9,py:10,children:n})})]})]})}},68293:function(e,n,t){"use strict";var r=t(23256),i=t(43894),s=t(85893);n.Z=function(e){var n=e.page,t=e.size,o=e.total,c=e.handleNextPage,a=e.handlePreviousPage,l=(n-1)*t+1,u=Math.min(o,n*t);return(0,s.jsxs)(r.kC,{justifyContent:"space-between",mt:6,children:[(0,s.jsx)(r.xv,{fontSize:"xs",color:"gray.600",children:o>0?(0,s.jsxs)(s.Fragment,{children:["Showing ",Number.isNaN(l)?0:l," to"," ",Number.isNaN(u)?0:u," of"," ",Number.isNaN(o)?0:o," results"]}):"0 results"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.zx,{disabled:n<=1,onClick:a,mr:2,size:"sm",children:"Previous"}),(0,s.jsx)(i.zx,{disabled:n*t>=o,onClick:c,size:"sm",children:"Next"})]})]})}},44068:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var r=t(16835),i=t(27812),s=t(23256),o=t(37991),c=t(77601),a=t(43894),l=t(48591),u=t(67294),d=t(12036),h=t(85893),p=function(e){var n=e.defaultValues,t=e.items,c=e.onSelection,l=(0,u.useState)(t),p=l[0],x=l[1];return(0,h.jsxs)(o.qy,{lineHeight:"1rem",p:"0",children:[(0,h.jsxs)(s.kC,{borderBottom:"1px",borderColor:"gray.200",cursor:"auto",p:"8px",children:[(0,h.jsx)(a.zx,{onClick:function(){x(t),c(new Map)},size:"xs",variant:"outline",children:"Clear"}),(0,h.jsx)(s.LZ,{}),(0,h.jsx)(a.zx,{backgroundColor:"primary.800",color:"white",onClick:function(){c(p)},size:"xs",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},children:"Done"})]}),(0,h.jsx)(s.xu,{maxH:"360px",overflow:"auto",children:(0,h.jsx)(d.cO,{colorScheme:"purple",defaultValue:n,onChange:function(e){var n=new Map(p);n.forEach((function(e,t){n.set(t,!1)})),e.forEach((function(e){n.set(e,!0)})),x(n)},children:(0,i.Z)(t).sort().map((function(e){var n=(0,r.Z)(e,1)[0];return(0,h.jsx)(o.sN,{paddingTop:"10px",paddingRight:"8.5px",paddingBottom:"10px",paddingLeft:"8.5px",_focus:{bg:"gray.100"},children:(0,h.jsx)(d.XZ,{"aria-label":n,isChecked:t.get(n),spacing:".5rem",value:n,width:"100%",children:(0,h.jsx)(s.xv,{fontSize:"0.75rem",children:n})})},n)}))})})]})},x=function(e){var n=e.closeOnSelect,t=void 0!==n&&n,d=e.list,x=e.onChange,f=e.selectedList,j=e.label,g=e.tooltipDisabled,m=void 0!==g&&g,v=e.tooltipPlacement,y=void 0===v?"auto":v,b=e.width,w=new Map(d),C=(0,u.useState)(!1),O=C[0],S=C[1],_=function(){S(!1)},k=function(){return m?j:f.size>0?(0,i.Z)(f.keys()).sort().join(", "):j};return(0,h.jsx)(s.xu,{children:(0,h.jsxs)(o.v2,{closeOnSelect:t,isLazy:!0,onClose:_,onOpen:function(){S(!0)},children:[(0,h.jsx)(c.u,{fontSize:".75rem",hasArrow:!0,"aria-label":"",label:k(),lineHeight:"1.25rem",isDisabled:m||!(f.size>0),placement:y,children:(0,h.jsxs)(o.j2,{"aria-label":k(),as:a.zx,fontWeight:"normal",rightIcon:(0,h.jsx)(l.mC,{}),size:"sm",variant:"outline",_active:{bg:"none"},_hover:{bg:"none"},children:[!m&&(0,h.jsx)(s.xv,{display:"inline-block",isTruncated:!0,width:b,children:k()}),m&&(0,h.jsxs)(s.Ug,{children:[(0,h.jsx)(s.xv,{children:k()}),f.size>0&&(0,h.jsx)(s.xv,{color:"complimentary.500",children:f.size})]})]})}),O?(0,h.jsx)(p,{defaultValues:(0,i.Z)(f.keys()),items:w,onSelection:function(e){var n=new Map((0,i.Z)(e).filter((function(e){return!0===(0,r.Z)(e,2)[1]})));x((0,i.Z)(n.keys())),_()}}):null]})})}},62542:function(e,n,t){"use strict";var r=t(16835),i=t(27812),s=t(23256),o=t(37991),c=t(43894),a=t(48591),l=t(77601),u=t(67294),d=t(85893);n.Z=function(e){var n,t=e.enableSorting,h=void 0===t||t,p=e.hasClear,x=void 0===p||p,f=e.label,j=e.list,g=e.onChange,m=e.selectedValue,v=e.width,y=(0,u.useState)(!1),b=y[0],w=y[1],C=function(){w(!1)},O=null===(n=(0,i.Z)(j).find((function(e){return(0,r.Z)(e,2)[1].value===m})))||void 0===n?void 0:n[0];return(0,d.jsx)(s.xu,{children:(0,d.jsxs)(o.v2,{isLazy:!0,onClose:C,onOpen:function(){w(!0)},children:[(0,d.jsx)(o.j2,{"aria-label":null!==O&&void 0!==O?O:f,as:c.zx,color:O?"complimentary.500":void 0,fontWeight:"normal",rightIcon:(0,d.jsx)(a.mC,{}),size:"sm",variant:"outline",width:v,_active:{bg:"none"},_hover:{bg:"none"},children:(0,d.jsx)(s.xv,{isTruncated:!0,children:null!==O&&void 0!==O?O:f})}),b?(0,d.jsxs)(o.qy,{lineHeight:"1rem",p:"0",children:[x&&(0,d.jsx)(s.kC,{borderBottom:"1px",borderColor:"gray.200",cursor:"auto",p:"8px",children:(0,d.jsx)(c.zx,{onClick:function(){g(void 0),C()},size:"xs",variant:"outline",children:"Clear"})}),(h?(0,i.Z)(j).sort():(0,i.Z)(j)).map((function(e){var n=(0,r.Z)(e,2),t=n[0],i=n[1];return(0,d.jsx)(l.u,{"aria-label":i.toolTip,hasArrow:!0,label:i.toolTip,placement:"auto-start",openDelay:500,shouldWrapChildren:!0,children:(0,d.jsx)(o.sN,{color:m===i.value?"complimentary.500":void 0,isDisabled:i.isDisabled,onClick:function(){return g(i.value)},paddingTop:"10px",paddingRight:"8.5px",paddingBottom:"10px",paddingLeft:"8.5px",_focus:{bg:"gray.100"},children:(0,d.jsx)(s.xv,{fontSize:"0.75rem",children:t})})},t)}))]}):null]})})}},22391:function(e,n,t){"use strict";t.d(n,{TL:function(){return h},UI:function(){return d}});var r=t(59499),i=t(53959),s=t(41664),o=t.n(s),c=(t(67294),t(85893));function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u=function(e){var n=e.variant,t=e.children,r=e.href,s=e.isActive,a=e.isDisabled,l="primary"===n?i.c2:i._p;return a?(0,c.jsx)(l,{isDisabled:a,href:r,isActive:s,children:t}):(0,c.jsx)(o(),{href:r,passHref:!0,children:(0,c.jsx)(l,{isActive:s,children:t})})},d=function(e){return(0,c.jsx)(u,l({variant:"primary"},e))},h=function(e){return(0,c.jsx)(u,l({variant:"secondary"},e))}},31444:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(23256),i=t(11163),s=(t(67294),t(28026)),o=t(58536),c=t(22391),a=t(85893),l=function(){var e=(0,i.useRouter)(),n=(0,o.Y)({path:e.pathname});return(0,a.jsx)(r.kC,{as:"nav",gap:1,px:10,py:2,borderBottom:"1px",borderTop:"1px",borderColor:"gray.100",children:n.groups.map((function(t){var r,i=t.children[0].path,o=(0,s.qj)({href:i,router:e}).href,l=t.title===(null===(r=n.active)||void 0===r?void 0:r.title);return(0,a.jsx)(c.UI,{href:o,isActive:l,children:t.title},t.title)}))})}},58536:function(e,n,t){"use strict";t.d(n,{Y:function(){return l}});var r=t(67294),i=t(53700),s=t(59499);function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var a=[{title:"Home",routes:[{path:"/",exact:!0}]},{title:"Privacy requests",requiresConnections:!0,routes:[{title:"Request manager",path:"/privacy-requests"},{title:"Connection manager",path:"/datastore-connection"}]},{title:"Data map",requiresSystems:!0,routes:[{title:"View map",path:"/datamap",requiresPlus:!0},{title:"View systems",path:"/system"},{title:"Add systems",path:"/add-systems"},{title:"Manage datasets",path:"/dataset"},{title:"Classify systems",path:"/classify-systems",requiresPlus:!0}]},{title:"Management",routes:[{title:"Taxonomy",path:"/taxonomy"},{title:"Users",path:"/user-management"},{title:"About Fides",path:"/management/about"}]}],l=function(e){var n=e.path,t=(0,i.hz)(),s=(0,r.useMemo)((function(){return function(e){var n=e.config,t=e.hasPlus,r=void 0!==t&&t,i=e.hasSystems,s=void 0!==i&&i,o=e.hasConnections,c=void 0!==o&&o,a=[];return n.forEach((function(e){if(!(e.requiresConnections&&!c||e.requiresSystems&&!s)){var n={title:e.title,children:[]};a.push(n),e.routes.forEach((function(e){var t;e.requiresPlus&&!r||n.children.push({title:null!==(t=e.title)&&void 0!==t?t:n.title,path:e.path,exact:e.exact})}))}})),a}({config:a,hasPlus:t.plus,hasSystems:t.systemsCount>0,hasConnections:t.connectionsCount>0})}),[t]),o=(0,r.useMemo)((function(){return function(e){var n,t,r=e.navGroups,i=e.path,s=r.find((function(e){return n=e.children.find((function(e){return e.exact?i===e.path:i.startsWith(e.path)}))}));if(s&&n)return n.exact&&i===n.path?t=i:i.startsWith(n.path)&&(t=n.path),c(c({},s),{},{path:t})}({navGroups:s,path:n})}),[n,s]);return(0,r.useMemo)((function(){return{groups:s,active:o}}),[s,o])}},85130:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(16835),i=t(27812),s=t(30004),o=(t(67294),t(93843)),c=t(36292),a=function(e){return void 0!==e.connection_type},l=t(85893),u=function(e){var n=e.data;return(0,l.jsx)(s.Ee,{boxSize:"32px",objectFit:"cover",src:function(){var e;return(e=a(n)?(0,i.Z)(c.iW).find((function(e){var t,i,s=(0,r.Z)(e,1)[0];return n.connection_type.toString()!==o.Rj.SAAS&&n.connection_type.toString()===s||n.connection_type.toString()===o.Rj.SAAS&&(null===(t=n.saas_config)||void 0===t||null===(i=t.type)||void 0===i?void 0:i.toString())===s.toString()})):(0,i.Z)(c.iW).find((function(e){return(0,r.Z)(e,1)[0].toLowerCase()===n.toLowerCase()})))?c.Ny+e[1]:c.VD}(),fallbackSrc:c.VD,alt:a(n)?n.name:n})}},66752:function(e,n,t){"use strict";t(67294);var r=t(84247),i=t(85893);n.Z=function(e){var n=e.children;return(0,i.jsx)(r.Z,{title:"Connections",children:n})}},25508:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return se}});var r=t(23256),i=t(44359),s=t(10061),o=t(67294),c=t(97142),a=t(20095),l=t(59499),u=t(30268),d=t(48591),h=t(14416),p=t(24302),x=t(16835),f=t(27812),j=t(44068),g=t(85893),m=function(e){var n=e.width,t=(0,c.C)(a.ZZ).connectionOptions,r=(0,c.C)(p.dR).connection_type,i=(0,o.useCallback)((function(){var e=new Map;return t.forEach((function(n){var t=!1;null!==r&&void 0!==r&&r.includes(n.identifier)&&(t=!0),e.set(n.human_readable,t)})),e}),[t,r]),s=(0,o.useMemo)((function(){return i()}),[i]),l=new Map((0,f.Z)(s).filter((function(e){return!0===(0,x.Z)(e,2)[1]}))),u=(0,c.T)();return(0,g.jsx)(j.Z,{label:"Connection Type",list:s,onChange:function(e){var n=t.filter((function(n){return e.includes(n.human_readable)}));u((0,p.Iw)(n.map((function(e){return e.identifier}))))},selectedList:l,tooltipDisabled:!0,width:n})},v=t(62542),y=t(36292),b=function(e){var n=e.width,t=(0,h.useSelector)(p.dR).disabled_status,r=(0,o.useMemo)((function(){return function(){var e=new Map;return Object.values(y.QI).sort().forEach((function(n){e.set((0,s.kC)(n),{value:n})})),e}()}),[]),i=(0,h.useDispatch)();return(0,g.jsx)(v.Z,{label:"Status",list:r,onChange:function(e){i((0,p.Ru)(e||""))},selectedValue:null===t||void 0===t?void 0:t.toString(),width:n})},w=t(4043),C=function(e){var n=e.width,t=(0,h.useSelector)(p.dR).system_type,r=new Map(w.yI);r.delete("Show all");var i=(0,c.T)();return(0,g.jsx)(v.Z,{enableSorting:!1,label:"System Type",list:r,onChange:function(e){i((0,p.zq)(e||""))},selectedValue:null===t||void 0===t?void 0:t.toString(),width:n})},O=function(e){var n=e.width,t=(0,h.useSelector)(p.dR).test_status,r=(0,o.useMemo)((function(){return function(){var e=new Map;return Object.values(y.i0).sort().forEach((function(n){e.set((0,s.kC)(n),{value:n})})),e}()}),[]),i=(0,h.useDispatch)();return(0,g.jsx)(v.Z,{label:"Testing Status",list:r,onChange:function(e){i((0,p.Ri)(e||""))},selectedValue:null===t||void 0===t?void 0:t.toString(),width:n})};function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var _=function(){var e=(0,h.useSelector)(p.dR),n=(0,h.useDispatch)();return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({handleSearchChange:function(e){return n((0,p.qP)(e.target.value))}},e)},k=function(){var e=_(),n=e.handleSearchChange,t=e.search;return(0,g.jsxs)(r.kC,{minWidth:"fit-content",alignItems:"center",gap:"4",mb:6,children:[(0,g.jsxs)(u.BZ,{size:"sm",minWidth:"308px",children:[(0,g.jsx)(u.Z8,{pointerEvents:"none",children:(0,g.jsx)(d.PT,{color:"gray.300",w:"17px",h:"17px"})}),(0,g.jsx)(u.II,{autoComplete:"off",autoFocus:!0,type:"search",minWidth:200,placeholder:"Search connection name or description",size:"sm",borderRadius:"md",value:t,name:"search",onChange:n})]}),(0,g.jsx)(m,{}),(0,g.jsx)(C,{}),(0,g.jsx)(O,{}),(0,g.jsx)(b,{})]})},z=t(89816),P=t(68293),Z=t(4136),D=t.n(Z),E=t(43894),N=t(79145),R=t(37991),q=t(86589),L=t(41664),T=t.n(L),A=t(18459),I=t(97375),W=t(26537),M=function(e){var n=e.connection_key,t=(0,I.qY)(),i=t.isOpen,s=t.onOpen,o=t.onClose,c=(0,p.R5)(),a=(0,x.Z)(c,2),l=a[0],u=a[1],d=function(){u.isLoading||o()};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.sN,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:s,children:(0,g.jsx)(r.xv,{fontSize:"sm",children:"Delete"})}),(0,g.jsxs)(W.u_,{isCentered:!0,isOpen:i,onClose:d,children:[(0,g.jsx)(W.ZA,{}),(0,g.jsxs)(W.hz,{children:[(0,g.jsx)(W.xB,{children:"Delete Connection"}),(0,g.jsx)(W.ol,{}),(0,g.jsx)(W.fe,{pb:6,children:(0,g.jsx)(r.Kq,{direction:"column",spacing:"15px",children:(0,g.jsx)(r.xv,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:"Deleting a connection may impact any privacy request that is currently in progress. Do you wish to proceed?"})})}),(0,g.jsxs)(W.mz,{children:[(0,g.jsx)(E.zx,{onClick:d,marginRight:"10px",size:"sm",variant:"solid",bg:"white",width:"50%",children:"Cancel"}),(0,g.jsx)(E.zx,{onClick:function(){n&&l(n)},isLoading:u.isLoading,mr:3,size:"sm",variant:"solid",bg:"primary.800",color:"white",width:"50%",_loading:{opacity:1,div:{opacity:.4}},_hover:{bg:"gray.100",color:"gray.600"},children:"Delete connection"})]})]})]})]})},F=t(50029),H=t(87794),V=t.n(H),B=function(e){var n=e.connection_key,t=e.disabled,i=e.name,s=e.access_type,o=e.connection_type,c=(0,I.qY)(),a=c.isOpen,l=c.onOpen,u=c.onClose,d=(0,p.XX)(),h=(0,x.Z)(d,2),f=h[0],j=h[1],m=function(){var e=(0,F.Z)(V().mark((function e(){return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f({key:n,name:i,disabled:!t,access:s,connection_type:o});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){j.isLoading||u()};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(R.sN,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:l,children:(0,g.jsx)(r.xv,{fontSize:"sm",children:t?"Enable":"Disable"})}),(0,g.jsxs)(W.u_,{isCentered:!0,isOpen:a,onClose:v,children:[(0,g.jsx)(W.ZA,{}),(0,g.jsxs)(W.hz,{children:[(0,g.jsxs)(W.xB,{children:[t?"Enable":"Disable"," Connection"]}),(0,g.jsx)(W.ol,{}),(0,g.jsx)(W.fe,{pb:6,children:(0,g.jsx)(r.Kq,{direction:"column",spacing:"15px",children:(0,g.jsxs)(r.xv,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:[t?"Enabling":"Disabling"," a connection may impact any privacy request that is currently in progress. Do you wish to proceed?"]})})}),(0,g.jsxs)(W.mz,{children:[(0,g.jsx)(E.zx,{onClick:v,marginRight:"10px",size:"sm",variant:"solid",bg:"white",width:"50%",children:"Cancel"}),(0,g.jsxs)(E.zx,{onClick:m,isLoading:j.isLoading,mr:3,size:"sm",variant:"solid",bg:"primary.800",color:"white",width:"50%",children:[t?"Enable":"Disable"," Connection"]})]})]})]})]})},U=function(e){var n=e.connection_key,t=e.disabled,r=e.connection_type,i=e.access_type,s=e.name;return(0,g.jsxs)(R.v2,{children:[(0,g.jsx)(R.j2,{as:E.zx,size:"xs",bg:"white","data-testid":"connection-menu-btn",children:(0,g.jsx)(d.nX,{color:"gray.700",w:18,h:18})}),(0,g.jsx)(q.h_,{children:(0,g.jsxs)(R.qy,{fontSize:"sm",shadow:"xl","data-testid":"connection-menu-".concat(s),children:[(0,g.jsx)(T(),{href:"".concat(A.JR,"/").concat(encodeURIComponent(n)),children:(0,g.jsx)(R.sN,{_focus:{color:"complimentary.500",bg:"gray.100"},"data-testid":"configure-btn",children:"Configure"})}),(0,g.jsx)(B,{connection_key:n,disabled:t,connection_type:r,access_type:i,name:s}),(0,g.jsx)(M,{connection_key:n})]})})]})},X=function(e){var n=e.disabled,t=n?"gray.500":"green.500",i=n?"DISABLED":"ACTIVE";return(0,g.jsx)(r.Ct,{color:"white",bg:t,height:"18px",lineHeight:"18px",textAlign:"center",borderRadius:"2px",mr:"4px",children:i})},Y=t(85130),G=function(e){var n=e.succeeded,t=e.timestamp,i=(0,s.p6)(t),o=t?"Last tested on ".concat(i):"This connection has not been tested yet";return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(N.Z,{connected:n}),(0,g.jsx)(r.xv,{color:"gray.500",fontSize:"xs",fontWeight:"semibold",lineHeight:"16px",ml:"10px",children:o})]})},J=function(e){var n=e.connectionData,t=(0,p.h2)(),i=(0,x.Z)(t,2),o=i[0],c=i[1];return(0,g.jsxs)(r.xu,{width:"100%",height:136,p:"18px 16px 16px 16px","data-testid":"connection-grid-item-".concat(n.name),children:[(0,g.jsxs)(r.kC,{justifyContent:"center",alignItems:"center",children:[(0,g.jsx)(Y.Z,{data:n}),(0,g.jsx)(r.xv,{color:"gray.900",fontSize:"md",fontWeight:"medium",m:"8px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:n.name}),(0,g.jsx)(r.LZ,{}),(0,g.jsx)(X,{disabled:n.disabled}),(0,g.jsx)(U,{connection_key:n.key,disabled:n.disabled,name:n.name,connection_type:n.connection_type,access_type:n.access})]}),(0,g.jsx)(r.xv,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:n.description?n.description:(0,g.jsx)("br",{})}),(0,g.jsxs)(r.xv,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:["Edited on ",(0,s.p6)(n.updated_at)]}),(0,g.jsxs)(r.kC,{mt:"0px",justifyContent:"center",alignItems:"center",children:[(0,g.jsx)(G,{succeeded:n.last_test_succeeded,timestamp:n.last_test_timestamp}),(0,g.jsx)(r.LZ,{}),(0,g.jsx)(E.zx,{size:"xs",variant:"outline",onClick:function(){o(n.key)},loadingText:"Test",isLoading:c.isLoading||c.isFetching,spinnerPlacement:"end",children:"Test"})]})]})};function K(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function $(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?K(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):K(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Q=function(e){var n=e.items,t=void 0===n?[]:n,i=e.total,s=void 0===i?0:i,o=function(){var e=(0,h.useDispatch)(),n=(0,c.C)(p.dR);return $($({},n),{},{handleNextPage:function(){e((0,p.YA)(n.page+1))},handlePreviousPage:function(){e((0,p.YA)(n.page-1))}})}(),a=o.page,l=o.size,u=o.handleNextPage,d=o.handlePreviousPage,x=(0,z.yo)(t,3);return(0,g.jsxs)(g.Fragment,{children:[x.map((function(e,n,t){var i=t.length;return(0,g.jsx)(r.xu,{className:D()["grid-row"],borderBottomWidth:i>1&&n===i-1&&3===e.length?"0.5px":void 0,children:(0,g.jsx)(r.MI,{columns:3,children:e.map((function(e){return(0,g.jsx)(r.xu,{className:D()["grid-item"],children:(0,g.jsx)(J,{connectionData:e})},e.key)}))})},JSON.stringify(e))})),(0,g.jsx)(P.Z,{page:a,size:l,total:s,handleNextPage:u,handlePreviousPage:d})]})},ee=function(){return(0,g.jsx)(T(),{href:w.Ss[1].href,passHref:!0,children:(0,g.jsx)(E.zx,{bg:"primary.800",color:"white",flexShrink:0,size:"sm",variant:"solid",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},children:"Create new connection"})})},ne=function(){return(0,g.jsxs)(r.kC,{bg:"gray.50",width:"100%",height:"340px",justifyContent:"center",alignItems:"center",flexDirection:"column",children:[(0,g.jsx)(r.xv,{color:"black",fontSize:"x-large",lineHeight:"32px",fontWeight:"600",mb:"7px",children:"Welcome to your Datastores!"}),(0,g.jsx)(r.xv,{color:"gray.600",fontSize:"sm",lineHeight:"20px",mb:"11px",children:"You don\u2018t have any Connections set up yet."}),(0,g.jsx)(ee,{})]})},te=function(e){var n=e.hasConnections,t=void 0!==n&&n;return(0,g.jsxs)(r.kC,{mb:"24px",justifyContent:"center",alignItems:"center",children:[(0,g.jsx)(r.X6,{fontSize:"2xl",fontWeight:"semibold",children:"Connections"}),(0,g.jsx)(r.LZ,{}),t&&(0,g.jsx)(ee,{})]})},re=function(){var e,n=(0,o.useRef)(!1),t=(0,c.T)(),l=(0,c.C)(a.ZZ).connectionOptions,u=(0,c.C)(p.dR),d=(0,o.useState)(u),h=d[0],x=d[1],f=(0,o.useRef)((0,s.Ds)((function(e){return x(e)}),250)),j=(0,a.$I)({search:""},{skip:l.length>0}).data,m=(0,p.AZ)(h),v=m.data,y=m.isFetching,b=m.isLoading,w=m.isSuccess,C=(null===v||void 0===v||null===(e=v.items)||void 0===e?void 0:e.length)>0;return(0,o.useEffect)((function(){return n.current=!0,0===l.length&&null!==j&&void 0!==j&&j.items&&t((0,a.fP)(j.items)),f.current(u),function(){n.current=!1}}),[l.length,null===j||void 0===j?void 0:j.items,t,u]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(te,{hasConnections:C}),n.current&&(0,g.jsx)(k,{}),(y||b)&&(0,g.jsx)(r.M5,{children:(0,g.jsx)(i.$,{})}),n.current&&w&&(C?(0,g.jsx)(Q,{items:null===v||void 0===v?void 0:v.items,total:null===v||void 0===v?void 0:v.total}):(0,g.jsx)(ne,{}))]})},ie=t(66752),se=function(){return(0,g.jsx)(ie.Z,{children:(0,g.jsx)(re,{})})}},23890:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datastore-connection",function(){return t(25508)}])},4136:function(e){e.exports={"grid-row":"ConnectionGrid_grid-row__pjx_I","grid-item":"ConnectionGrid_grid-item__HdQkZ"}}},function(e){e.O(0,[5372,7601,4,9816,9774,2888,179],(function(){return n=23890,e(e.s=n);var n}));var n=e.O();_N_E=n}]);