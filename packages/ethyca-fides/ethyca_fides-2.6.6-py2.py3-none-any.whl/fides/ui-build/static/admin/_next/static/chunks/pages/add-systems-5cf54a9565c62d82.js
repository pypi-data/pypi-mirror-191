(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5023],{16488:function(e,n,t){"use strict";t.d(n,{s:function(){return d}});var r=t(37991),s=t(43894),i=t(48591),a=t(23256),o=t(12036),c=t(67294),l=t(85893),d=function(e){var n=e.allColumns,t=e.selectedColumns,d=e.onChange,u=(0,c.useMemo)((function(){var e=new Map;return n.forEach((function(n){return e.set(n.name,!!t.find((function(e){return e.name===n.name})))})),e}),[n,t]),h=function(){u.forEach((function(e,n){return u.set(n,!1)})),d([])},x=function(e){var t,r=null!==(t=u.get(e.name))&&void 0!==t&&t;u.set(e.name,!r),d(n.filter((function(e){return u.get(e.name)})))};return(0,l.jsx)(r.v2,{children:function(e){var c=e.onClose;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.j2,{as:s.zx,rightIcon:(0,l.jsx)(i.mC,{}),variant:"outline",fontWeight:"normal","data-testid":"column-dropdown",children:"Columns"}),(0,l.jsx)(r.qy,{children:(0,l.jsxs)(a.xu,{px:2,children:[(0,l.jsxs)(a.xu,{display:"flex",justifyContent:"space-between",mb:2,children:[(0,l.jsx)(s.zx,{variant:"outline",size:"xs",onClick:h,"data-testid":"column-clear-btn",children:"Clear"}),(0,l.jsx)(s.zx,{size:"xs",colorScheme:"primary",onClick:c,"data-testid":"column-done-btn",children:"Done"})]}),(0,l.jsx)(o.cO,{colorScheme:"complimentary",children:(0,l.jsx)(a.Kq,{children:n.map((function(e){var n=t.filter((function(n){return n.name===e.name})).length>0;return(0,l.jsx)(o.XZ,{id:e.name,_hover:{bg:"gray.100"},isChecked:n,onChange:function(){return x(e)},"data-testid":"checkbox-".concat(e.name),children:e.name},e.name)}))})})]})})]})}})}},79145:function(e,n,t){"use strict";var r=t(59499),s=t(4730),i=t(23256),a=t(85893),o=["connected"];function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}n.Z=function(e){var n=e.connected,t=(0,s.Z)(e,o),l="red.500";return null==n?l="gray.300":n&&(l="green.500"),(0,a.jsx)(i.xu,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({width:"12px",height:"12px",borderRadius:"6px",backgroundColor:l},t))}},37903:function(e,n,t){"use strict";t.d(n,{Rt:function(){return u},cK:function(){return h}});var r=t(59499),s=t(27812),i=t(23256),a=t(78522),o=t(12036),c=t(85893);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u=function(e){var n,t,r,s,a=e.system,o=e.attribute;return"name"===o?(0,c.jsx)("label",{htmlFor:"checkbox-".concat(a.fides_key),children:a.name}):"fidesctl_meta.resource_id"===o?(0,c.jsx)(i.xu,{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",title:null===(n=a.fidesctl_meta)||void 0===n?void 0:n.resource_id,children:null===(t=a.fidesctl_meta)||void 0===t?void 0:t.resource_id}):(0,c.jsx)(c.Fragment,{children:(r=a,s=o,s.split(".").reduce((function(e,n){return e?e[n]:void 0}),r))})},h=function(e){var n=e.allSystems,t=e.checked,r=e.onChange,l=e.columns,h=e.tableHeadProps,x=function(e){var n=t.indexOf(e)>=0;r(n?t.filter((function(n){return n.fides_key!==e.fides_key})):[].concat((0,s.Z)(t),[e]))},p=n.length===t.length;return 0===l.length?(0,c.jsx)(i.xv,{children:"No columns selected to display"}):(0,c.jsxs)(a.iA,{size:"sm",sx:{tableLayout:"fixed"},children:[(0,c.jsx)(a.hr,d(d({},h),{},{children:(0,c.jsxs)(a.Tr,{children:[(0,c.jsx)(a.Th,{width:"15px",children:(0,c.jsx)(o.XZ,{colorScheme:"complimentary",title:"Select All",isChecked:p,onChange:function(e){e.target.checked?r(n):r([])}})}),l.map((function(e){return(0,c.jsx)(a.Th,{children:e.name},e.attribute)}))]})})),(0,c.jsx)(a.p3,{children:n.map((function(e){return(0,c.jsxs)(a.Tr,{children:[(0,c.jsx)(a.Td,{children:(0,c.jsx)(o.XZ,{colorScheme:"complimentary",value:e.fides_key,isChecked:t.indexOf(e)>=0,onChange:function(){return x(e)},"data-testid":"checkbox-".concat(e.fides_key)})}),l.map((function(n){return(0,c.jsx)(a.Td,{children:(0,c.jsx)(u,{system:e,attribute:n.attribute})},n.attribute)}))]},e.fides_key)}))})]})}},70783:function(e,n,t){"use strict";t.d(n,{HK:function(){return i},VY:function(){return r.V}});var r=t(63719),s=t(65698),i=function(){var e=(0,r.V)().errorAlert;return{handleError:function(n){var t="An unexpected error occurred. Please try again.";(0,s.Ot)(n)?t=n.data.detail:(0,s.tB)(n)&&(t=n.data.detail[0].msg),e(t)}}};t(67294)},63719:function(e,n,t){"use strict";t.d(n,{V:function(){return u}});var r=t(59499),s=t(13450),i=t(26707),a=t(23256),o=t(93225),c=t(85893);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u=function(){var e=(0,s.pm)();return{errorAlert:function(n,t,r){var s=d(d({},r),{},{position:(null===r||void 0===r?void 0:r.position)||"top",render:function(e){var r=e.onClose;return(0,c.jsxs)(i.bZ,{alignItems:"normal",status:"error",children:[(0,c.jsx)(i.zM,{}),(0,c.jsxs)(a.xu,{children:[t&&(0,c.jsx)(i.Cd,{children:t}),(0,c.jsx)(i.X,{children:n})]}),(0,c.jsx)(o.P,{onClick:r,position:"relative",right:0,size:"sm",top:-1})]})}});null!==r&&void 0!==r&&r.id&&e.isActive(r.id)?e.update(r.id,s):e(s)},successAlert:function(n,t,r){var s=d(d({},r),{},{position:(null===r||void 0===r?void 0:r.position)||"top",render:function(e){var r=e.onClose;return(0,c.jsxs)(i.bZ,{alignItems:"normal",status:"success",variant:"subtle",children:[(0,c.jsx)(i.zM,{}),(0,c.jsxs)(a.xu,{children:[t&&(0,c.jsx)(i.Cd,{children:t}),(0,c.jsx)(i.X,{children:n})]}),(0,c.jsx)(o.P,{onClick:r,position:"relative",right:0,size:"sm",top:-1})]})}});null!==r&&void 0!==r&&r.id&&e.isActive(r.id)?e.update(r.id,s):e(s)}}}},63908:function(e,n,t){"use strict";t.d(n,{d:function(){return i}});var r=t(53700),s=t(28026),i=function(){var e=(0,r.hz)(),n=(0,s.mg)({href:"/datamap",basePath:"/"});return{systemOrDatamapRoute:e.plus?n.href:"/system"}}},10846:function(e,n,t){"use strict";t.d(n,{V:function(){return h},t:function(){return u}});var r=t(59499),s=t(23256),i=t(85893);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var c=function(e){var n=e.message;return(0,i.jsxs)(s.xv,{"data-testid":"toast-success-msg",children:[(0,i.jsx)("strong",{children:"Success:"})," ",n]})},l=function(e){var n=e.message;return(0,i.jsxs)(s.xv,{"data-testid":"toast-error-msg",children:[(0,i.jsx)("strong",{children:"Error:"})," ",n]})},d={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},u=function(e){var n=(0,i.jsx)(c,{message:e});return o(o({},d),{description:n})},h=function(e){var n=(0,i.jsx)(l,{message:e});return o(o({},d),{description:n,status:"error"})}},43999:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Ae}});var r=t(67294),s=t(97142),i=t(53700),a=t(50939),o=t(84247),c=t(40599),l=t(23256),d=t(43894),u=t(48591),h=t(85893),x=function(e){var n=e.activeStep,t=e.steps;return(0,h.jsx)(l.Kq,{alignItems:"flex-start",direction:["row"],w:"100%",children:t.map((function(e){return(0,h.jsx)(r.Fragment,{children:n&&n===e.number?(0,h.jsxs)(l.Kq,{alignItems:"baseline",direction:["column"],children:[(0,h.jsx)(u.F4,{color:"#824EF2"}),(0,h.jsx)(l.xv,{color:"#805AD5",children:e.name})]}):(0,h.jsxs)(l.Kq,{alignItems:"baseline",direction:["column"],children:[(0,h.jsx)(u.F4,{}),(0,h.jsx)(l.xv,{children:e.name})]})},e.number)}))})},p=function(e){var n=e.activeStep,t=e.setActiveStep,s=e.steps;return(0,i.hz)().flags.configWizardStepper?(0,h.jsxs)(l.Kq,{direction:["column","row"],children:[(0,h.jsx)(l.Kq,{alignItems:"center",direction:"column",spacing:0,children:s.map((function(e){return(0,h.jsxs)(r.Fragment,{children:[n&&1!==n&&n!==e.number&&n>e.number-1?(0,h.jsx)(u.sc,{boxSize:8,cursor:e.number<n?"pointer":"default",onClick:function(){e.number<n&&t(e.number)}}):(0,h.jsx)(u.cL,{boxSize:8,cursor:n&&e.number<n?"pointer":"default",onClick:function(){n&&e.number<n&&t(e.number)}}),e.number!==s.length?(0,h.jsx)(u.Cf,{boxSize:20}):null]},e.number)}))}),(0,h.jsx)(l.Kq,{direction:"column",justify:"space-between",minW:"100%",children:s.map((function(e){return(0,h.jsxs)(l.xu,{children:[(0,h.jsxs)(l.xv,{color:"gray.800",children:["Step ",e.number]}),(0,h.jsx)(l.xv,{color:"gray.500",children:e.name})]},e.name)}))})]}):null},m=t(87109),f=t(21885),j=t(90846),g=t(77601),C=t(37178),y=t(44530),v=t(27634),b=t(79145),w=t(83703),S=(0,w.IU)({displayName:"AWSLogo",viewBox:"0 0 113 113",path:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("path",{d:"M45.279 51.2921C45.279 51.925 45.3474 52.4382 45.4671 52.8145C45.604 53.1908 45.775 53.6013 46.0145 54.0461C46.1 54.1829 46.1342 54.3197 46.1342 54.4395C46.1342 54.6105 46.0316 54.7816 45.8092 54.9526L44.7316 55.6711C44.5777 55.7737 44.4237 55.825 44.2869 55.825C44.1158 55.825 43.9448 55.7395 43.7737 55.5855C43.5342 55.329 43.329 55.0553 43.1579 54.7816C42.9869 54.4908 42.8158 54.1658 42.6277 53.7724C41.2934 55.3461 39.6171 56.1329 37.5987 56.1329C36.1619 56.1329 35.0158 55.7224 34.1777 54.9013C33.3395 54.0803 32.9119 52.9855 32.9119 51.6171C32.9119 50.1632 33.425 48.9829 34.4684 48.0934C35.5119 47.204 36.8974 46.7592 38.6592 46.7592C39.2408 46.7592 39.8395 46.8105 40.4724 46.8961C41.1053 46.9816 41.7553 47.1184 42.4395 47.2724V46.0237C42.4395 44.7237 42.1658 43.8171 41.6356 43.2868C41.0882 42.7566 40.1645 42.5 38.8474 42.5C38.2487 42.5 37.6329 42.5684 37 42.7224C36.3671 42.8763 35.7513 43.0645 35.1527 43.304C34.879 43.4237 34.6737 43.4921 34.554 43.5263C34.4342 43.5605 34.3487 43.5776 34.2803 43.5776C34.0408 43.5776 33.9211 43.4066 33.9211 43.0474V42.2092C33.9211 41.9355 33.9553 41.7303 34.0408 41.6105C34.1263 41.4908 34.2803 41.3711 34.5198 41.2513C35.1184 40.9434 35.8369 40.6868 36.675 40.4816C37.5132 40.2592 38.4027 40.1566 39.3434 40.1566C41.379 40.1566 42.8671 40.6184 43.825 41.5421C44.7658 42.4658 45.2448 43.8684 45.2448 45.75V51.2921H45.279ZM38.3342 53.8921C38.8987 53.8921 39.4803 53.7895 40.0961 53.5842C40.7119 53.379 41.2592 53.0026 41.7211 52.4895C41.9948 52.1645 42.2 51.8053 42.3027 51.3947C42.4053 50.9842 42.4737 50.4882 42.4737 49.9066V49.1882C41.9777 49.0684 41.4474 48.9658 40.9 48.8974C40.3527 48.829 39.8224 48.7947 39.2921 48.7947C38.1461 48.7947 37.3079 49.0171 36.7434 49.479C36.179 49.9408 35.9053 50.5908 35.9053 51.4461C35.9053 52.25 36.1105 52.8487 36.5382 53.2592C36.9487 53.6869 37.5474 53.8921 38.3342 53.8921ZM52.0698 55.7395C51.7619 55.7395 51.5566 55.6882 51.4198 55.5684C51.2829 55.4658 51.1632 55.2263 51.0606 54.9013L47.0408 41.679C46.9382 41.3368 46.8869 41.1145 46.8869 40.9947C46.8869 40.7211 47.0237 40.5671 47.2974 40.5671H48.9737C49.2987 40.5671 49.5211 40.6184 49.6408 40.7382C49.7777 40.8408 49.8803 41.0803 49.9829 41.4053L52.8566 52.729L55.525 41.4053C55.6106 41.0632 55.7132 40.8408 55.85 40.7382C55.9869 40.6355 56.2263 40.5671 56.5342 40.5671H57.9027C58.2277 40.5671 58.45 40.6184 58.5869 40.7382C58.7237 40.8408 58.8434 41.0803 58.9119 41.4053L61.6145 52.8658L64.5737 41.4053C64.6763 41.0632 64.7961 40.8408 64.9158 40.7382C65.0527 40.6355 65.275 40.5671 65.5829 40.5671H67.1737C67.4474 40.5671 67.6013 40.704 67.6013 40.9947C67.6013 41.0803 67.5842 41.1658 67.5671 41.2684C67.55 41.3711 67.5158 41.5079 67.4474 41.6961L63.325 54.9184C63.2224 55.2605 63.1027 55.4829 62.9658 55.5855C62.829 55.6882 62.6066 55.7566 62.3158 55.7566H60.8448C60.5198 55.7566 60.2974 55.7053 60.1606 55.5855C60.0237 55.4658 59.904 55.2434 59.8356 54.9013L57.1842 43.8684L54.55 54.8842C54.4645 55.2263 54.3619 55.4487 54.225 55.5684C54.0882 55.6882 53.8487 55.7395 53.5408 55.7395H52.0698ZM74.05 56.2013C73.1606 56.2013 72.2711 56.0987 71.4158 55.8934C70.5606 55.6882 69.8934 55.4658 69.4487 55.2092C69.175 55.0553 68.9869 54.8842 68.9184 54.7303C68.85 54.5763 68.8158 54.4053 68.8158 54.2513V53.379C68.8158 53.0197 68.9527 52.8487 69.2092 52.8487C69.3119 52.8487 69.4145 52.8658 69.5171 52.9C69.6198 52.9342 69.7737 53.0026 69.9448 53.0711C70.5263 53.3276 71.1592 53.5329 71.8263 53.6697C72.5106 53.8066 73.1777 53.875 73.8619 53.875C74.9395 53.875 75.7777 53.6869 76.3592 53.3105C76.9408 52.9342 77.2487 52.3869 77.2487 51.6855C77.2487 51.2066 77.0948 50.8132 76.7869 50.4882C76.479 50.1632 75.8974 49.8724 75.0592 49.5987L72.579 48.829C71.3303 48.4355 70.4066 47.854 69.8421 47.0842C69.2777 46.3316 68.9869 45.4934 68.9869 44.604C68.9869 43.8855 69.1408 43.2526 69.4487 42.7053C69.7566 42.1579 70.1671 41.679 70.6803 41.3026C71.1934 40.9092 71.775 40.6184 72.4592 40.4132C73.1434 40.2079 73.8619 40.1224 74.6145 40.1224C74.9908 40.1224 75.3842 40.1395 75.7606 40.1908C76.154 40.2421 76.5132 40.3105 76.8724 40.379C77.2145 40.4645 77.5395 40.55 77.8474 40.6526C78.1553 40.7553 78.3948 40.8579 78.5658 40.9605C78.8053 41.0974 78.9763 41.2342 79.079 41.3882C79.1816 41.525 79.2329 41.7132 79.2329 41.9526V42.7566C79.2329 43.1158 79.0961 43.304 78.8395 43.304C78.7027 43.304 78.4803 43.2355 78.1895 43.0987C77.2145 42.654 76.1198 42.4316 74.9053 42.4316C73.9303 42.4316 73.1606 42.5855 72.6303 42.9105C72.1 43.2355 71.8263 43.7316 71.8263 44.4329C71.8263 44.9118 71.9974 45.3224 72.3395 45.6474C72.6816 45.9724 73.3145 46.2974 74.2211 46.5882L76.65 47.3579C77.8816 47.7513 78.7711 48.2987 79.3013 49C79.8316 49.7013 80.0882 50.5053 80.0882 51.3947C80.0882 52.1303 79.9342 52.7974 79.6434 53.379C79.3356 53.9605 78.925 54.4737 78.3948 54.8842C77.8645 55.3119 77.2316 55.6197 76.4961 55.8421C75.7263 56.0816 74.9224 56.2013 74.05 56.2013Z",fill:"#252F3E"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M77.283 64.5145C71.6554 68.671 63.479 70.8776 56.4488 70.8776C46.5961 70.8776 37.7185 67.2342 31.0132 61.179C30.483 60.7 30.9619 60.05 31.5948 60.4263C38.8475 64.6342 47.7935 67.1829 57.0475 67.1829C63.2909 67.1829 70.1501 65.8829 76.4619 63.2145C77.4027 62.7868 78.2067 63.8303 77.283 64.5145Z",fill:"#FF9900"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M79.6263 61.8461C78.9079 60.9224 74.871 61.4013 73.0408 61.6237C72.4934 61.6921 72.4079 61.2132 72.9039 60.854C76.1197 58.5961 81.4053 59.2461 82.021 59.9987C82.6368 60.7684 81.85 66.054 78.8395 68.5855C78.3776 68.979 77.9329 68.7737 78.1382 68.2605C78.8224 66.5671 80.3447 62.7526 79.6263 61.8461Z",fill:"#FF9900"})]})}),O=(0,w.IU)({displayName:"DataFlowScannerLogo",viewBox:"0 0 68 68",path:(0,h.jsxs)("svg",{width:"68",height:"68",viewBox:"0 0 68 68",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("rect",{width:"68",height:"68",rx:"8",fill:"#111439"}),(0,h.jsx)("path",{d:"M21.9814 47H12.3038V20.8182H21.9686C24.6362 20.8182 26.9331 21.3423 28.8592 22.3906C30.7939 23.4304 32.2853 24.9304 33.3336 26.8906C34.3819 28.8423 34.9061 31.1776 34.9061 33.8963C34.9061 36.6236 34.3819 38.9673 33.3336 40.9276C32.2939 42.8878 30.8066 44.392 28.872 45.4403C26.9373 46.4801 24.6404 47 21.9814 47ZM18.6319 41.6051H21.7385C23.2044 41.6051 24.4444 41.358 25.4586 40.8636C26.4814 40.3608 27.2527 39.5469 27.7726 38.4219C28.301 37.2884 28.5652 35.7798 28.5652 33.8963C28.5652 32.0128 28.301 30.5128 27.7726 29.3963C27.2441 28.2713 26.4643 27.4616 25.4331 26.9673C24.4103 26.4645 23.149 26.2131 21.649 26.2131H18.6319V41.6051ZM38.6007 47V20.8182H56.4728V25.9574H44.9288V31.3267H55.3351V36.4787H44.9288V47H38.6007Z",fill:"white"})]})}),k=(0,w.IU)({displayName:"ManualSetup",viewBox:"0 0 113 113",path:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("path",{d:"M73.125 38.875H39.875C38.5673 38.875 37.5 39.9423 37.5 41.25V50.75C37.5 52.0577 38.5673 53.125 39.875 53.125H73.125C74.4327 53.125 75.5 52.0577 75.5 50.75V41.25C75.5 39.9423 74.4312 38.875 73.125 38.875ZM63.625 47.7812C62.6416 47.7812 61.8438 46.9834 61.8438 46C61.8438 45.0166 62.6453 44.2188 63.625 44.2188C64.6047 44.2188 65.4062 45.0203 65.4062 46C65.4062 46.9797 64.6121 47.7812 63.625 47.7812ZM68.375 47.7812C67.3916 47.7812 66.5938 46.9834 66.5938 46C66.5938 45.0166 67.3953 44.2188 68.375 44.2188C69.3547 44.2188 70.1562 45.0203 70.1562 46C70.1562 46.9797 69.3621 47.7812 68.375 47.7812Z",fill:"#805AD5"}),(0,h.jsx)("path",{d:"M73.125 57.875H39.875C38.5673 57.875 37.5 58.9423 37.5 60.25V69.75C37.5 71.0577 38.5673 72.125 39.875 72.125H73.125C74.4327 72.125 75.5 71.0577 75.5 69.75V60.25C75.5 58.9438 74.4312 57.875 73.125 57.875ZM63.625 66.7812C62.6416 66.7812 61.8438 65.9834 61.8438 65C61.8438 64.0166 62.6416 63.2188 63.625 63.2188C64.6084 63.2188 65.4062 64.0166 65.4062 65C65.4062 65.9834 64.6121 66.7812 63.625 66.7812ZM68.375 66.7812C67.3916 66.7812 66.5938 65.9834 66.5938 65C66.5938 64.0166 67.3916 63.2188 68.375 63.2188C69.3584 63.2188 70.1562 64.0166 70.1562 65C70.1562 65.9834 69.3621 66.7812 68.375 66.7812Z",fill:"#1FDF8F"})]})}),z=(0,w.IU)({displayName:"OktaLogo",viewBox:"0 0 113 113",path:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("path",{d:"M37.039 51.1827C33.425 51.1827 30.5 54.0781 30.5 57.6554C30.5 61.2327 33.425 64.128 37.039 64.128C40.653 64.128 43.578 61.2327 43.578 57.6554C43.578 54.0781 40.653 51.1827 37.039 51.1827ZM37.039 60.8982C35.232 60.8982 33.763 59.4441 33.763 57.6554C33.763 55.8667 35.232 54.4126 37.039 54.4126C38.846 54.4126 40.315 55.8667 40.315 57.6554C40.315 59.4441 38.846 60.8982 37.039 60.8982Z",fill:"#007DC1"}),(0,h.jsx)("path",{d:"M48.5309 59.8301C48.5309 59.3154 49.1549 59.0709 49.5189 59.4312C51.1569 61.0783 53.8609 63.9093 53.8739 63.9222C53.9129 63.9608 53.9519 64.0251 54.1079 64.0766C54.1729 64.1023 54.2769 64.1023 54.3939 64.1023H57.3449C57.8779 64.1023 58.0339 63.4975 57.7869 63.1887L52.8989 58.2345L52.6389 57.9771C52.0799 57.3208 52.1449 57.0635 52.7819 56.3943L56.6559 52.1092C56.9029 51.8004 56.7469 51.2085 56.2009 51.2085H53.5229C53.4189 51.2085 53.3409 51.2085 53.2629 51.2342C53.1069 51.2857 53.0419 51.3371 53.0029 51.3886C52.9899 51.4015 50.8449 53.692 49.5189 55.0946C49.1549 55.4807 48.5049 55.2233 48.5049 54.6957V47.348C48.5049 46.9749 48.1929 46.8333 47.9459 46.8333H45.7619C45.3849 46.8333 45.2029 47.0778 45.2029 47.2966V63.5876C45.2029 63.9608 45.5149 64.0637 45.7749 64.0637H47.9589C48.2969 64.0637 48.5179 63.8192 48.5179 63.5747V63.4074V59.8301H48.5309Z",fill:"#007DC1"}),(0,h.jsx)("path",{d:"M66.3671 63.5104L66.1331 61.3485C66.1071 61.0526 65.8211 60.8467 65.5221 60.8982C65.3531 60.9239 65.1841 60.9368 65.0151 60.9368C63.2731 60.9368 61.8561 59.5856 61.7521 57.8741C61.7521 57.8227 61.7521 57.7583 61.7521 57.694V55.0432C61.7521 54.6957 62.0121 54.4126 62.3631 54.4126H65.2881C65.4961 54.4126 65.8081 54.2325 65.8081 53.8593V51.8133C65.8081 51.4144 65.5481 51.2085 65.3141 51.2085H62.3631C62.0251 51.2085 61.7521 50.964 61.7391 50.6294V47.348C61.7391 47.1421 61.5831 46.8333 61.1801 46.8333H59.0091C58.7361 46.8333 58.4761 47.0006 58.4761 47.3352C58.4761 47.3352 58.4761 57.8227 58.4761 57.8741C58.5671 61.3743 61.4661 64.1666 65.0151 64.1666C65.3141 64.1666 65.6001 64.1409 65.8861 64.1023C66.1981 64.0637 66.4061 63.8063 66.3671 63.5104Z",fill:"#007DC1"}),(0,h.jsx)("path",{d:"M82.1229 60.7952C80.2769 60.7952 79.9909 60.1389 79.9909 57.6811C79.9909 57.6683 79.9909 57.6683 79.9909 57.6554V51.7489C79.9909 51.543 79.8349 51.1956 79.4189 51.1956H77.2349C76.9619 51.1956 76.6629 51.4144 76.6629 51.7489V52.0192C75.7139 51.4787 74.6089 51.1699 73.4389 51.1699C69.8249 51.1699 66.8999 54.0652 66.8999 57.6425C66.8999 61.2198 69.8249 64.1152 73.4389 64.1152C75.0639 64.1152 76.5459 63.5232 77.6899 62.5581C78.3009 63.4846 79.2889 64.1023 80.8359 64.1152C81.0959 64.1152 82.4999 64.1666 82.4999 63.5104V61.207C82.4999 61.014 82.3439 60.7952 82.1229 60.7952ZM73.4519 60.8981C71.6449 60.8981 70.1759 59.444 70.1759 57.6554C70.1759 55.8667 71.6449 54.4126 73.4519 54.4126C75.2589 54.4126 76.7279 55.8667 76.7279 57.6554C76.7149 59.444 75.2459 60.8981 73.4519 60.8981Z",fill:"#007DC1"})]})}),_=t(41438),A=t(93843),D=t(78610),Z=t(8836),F=function(e){var n,t=e.onClick,r=(0,i.hz)(),a=r.plus,o=r.dataFlowScanning,c=(0,s.C)(_.bw),x=null!==(n=null===c||void 0===c?void 0:c.cluster_health)&&void 0!==n?n:"unknown",p=x===A.wW.HEALTHY;if(!a)return null;var m="The scanner will connect to your infrastructure to automatically scan and create a list of all systems available.";o?p||(m="Your cluster appears not to be healthy. Its status is ".concat(x,".")):m="The data flow scanner is not enabled, please check your configuration.";var f=!o||!p;return(0,h.jsxs)(l.Kq,{direction:"row",display:"flex",alignItems:"center",children:[(0,h.jsxs)(l.Ug,{position:"relative",children:[(0,h.jsx)(d.hU,{"aria-label":"Data flow scan",boxSize:D.kj,minW:D.kj,boxShadow:"base",variant:"ghost",icon:(0,h.jsx)(O,{boxSize:"10"}),onClick:t,"data-testid":"data-flow-scan-btn",disabled:f}),o?(0,h.jsx)(b.Z,{connected:p,title:p?"Cluster is connected and healthy":"Cluster is ".concat(x),position:"absolute",left:D.kj-12,top:-1,"data-testid":"cluster-health-indicator"}):null]}),(0,h.jsx)(l.xv,{children:"Data Flow Scan"}),(0,h.jsx)(g.u,{fontSize:"md",label:m,placement:"right",children:(0,h.jsx)(u.UO,{boxSize:5,color:"gray.400"})})]})},P=function(){var e=(0,s.T)();return(0,h.jsx)(C.m$.form,{w:"100%","data-testid":"add-system-form",children:(0,h.jsxs)(l.Kq,{spacing:10,children:[(0,h.jsx)(l.X6,{as:"h3",size:"lg",children:"Add Systems"}),(0,h.jsx)(y.UQ,{allowToggle:!0,border:"transparent",children:(0,h.jsx)(y.Qd,{children:function(e){var n=e.isExpanded;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("h2",{children:["Systems describe any services that store or process data for your organization, including third-party APIs, web applications, databases, and data warehouses. System discovery allows Fides to identify and build a data map from the list of systems that exist within your organization.",(0,h.jsx)(y.KF,{display:"inline",padding:"0px",ml:"5px",width:"auto",color:"complimentary.500",children:n?"(show less)":"(show more)"})]}),(0,h.jsx)(y.Hk,{padding:"0px",mt:"20px",children:"Let\u2019s get started by adding systems that contain data in our organization. You can speed this up by using the automated scanners or adding your systems manually."})]})}})}),(0,h.jsx)(v.NI,{children:(0,h.jsxs)(l.Kq,{spacing:5,children:[(0,h.jsxs)(l.Kq,{direction:"row",display:"flex",alignItems:"center",children:[(0,h.jsx)(d.hU,{"aria-label":"AWS",boxSize:D.kj,minW:D.kj,boxShadow:"base",variant:"ghost",icon:(0,h.jsx)(S,{boxSize:"full"}),onClick:function(){e((0,c.CQ)(A.GC.AWS)),e((0,c.sz)())},"data-testid":"aws-btn"}),(0,h.jsx)(l.xv,{children:"Infrastructure Scan (AWS)"}),(0,h.jsx)(g.u,{fontSize:"md",label:"Infrastructure scanning allows you to connect to your cloud infrastructure and automatically identify systems that should be on your data map.",placement:"right",children:(0,h.jsx)(u.UO,{boxSize:5,color:"gray.400"})})]}),(0,h.jsxs)(l.Kq,{direction:"row",display:"flex",alignItems:"center",children:[(0,h.jsx)(d.hU,{"aria-label":"Okta",boxSize:D.kj,minW:D.kj,boxShadow:"base",variant:"ghost",icon:(0,h.jsx)(z,{boxSize:"full"}),onClick:function(){e((0,c.CQ)(A.GC.OKTA)),e((0,c.sz)())},"data-testid":"okta-btn"}),(0,h.jsx)(l.xv,{children:"System Scan (Okta)"})]}),(0,h.jsx)(F,{onClick:function(){e((0,c.sz)()),e((0,c.CQ)(Z.D.DATA_FLOW))}}),(0,h.jsxs)(l.Kq,{direction:"row",display:"flex",alignItems:"center",children:[(0,h.jsx)(l.Ug,{children:(0,h.jsx)(d.hU,{"aria-label":"Manual setup",boxSize:D.kj,minW:D.kj,boxShadow:"base",variant:"ghost",icon:(0,h.jsx)(k,{boxSize:"full"}),onClick:function(){e((0,c.sz)(5)),e((0,c.CQ)(Z.D.MANUAL))},"data-testid":"manual-btn"})}),(0,h.jsx)(l.xv,{children:"Add a system manually"}),(0,h.jsx)(g.u,{fontSize:"md",label:"If you prefer to, you can add systems manually by entering information about them directly.",placement:"right",children:(0,h.jsx)(u.UO,{boxSize:5,color:"gray.400"})})]})]})})]})})},T=t(50029),I=t(16835),q=t(87794),K=t.n(q),V=t(82175),W=t(74231),L=t(96016),M=t(65698),E=t(70783),H=t(59499);function U(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var R=function(e){return(0,h.jsx)(l.rU,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?U(Object(t),!0).forEach((function(n){(0,H.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({isExternal:!0,color:"complimentary.500"},e))},B=function(e){return"system_type"in e},N=t(51625),Y=function(e){var n=e.message;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.iz,{}),(0,h.jsx)(l.W2,{maxH:"50vh",overflow:"auto",children:(0,h.jsx)(l.xv,{as:"pre","data-testid":"error-log",children:n})}),(0,h.jsx)(l.iz,{})]})},X=function(e){var n=e.error,t=e.scanType,r=void 0===t?"":t;return(0,h.jsxs)(l.Kq,{"data-testid":"scanner-error",spacing:"4",children:[(0,h.jsxs)(l.Ug,{children:[(0,h.jsx)(l.Ct,{color:"white",bg:"red.500",py:"2",children:"Error"}),(0,h.jsx)(l.X6,{color:"red.500",size:"lg",children:"Failed to Scan"})]}),403===n.status&&r===A.GC.AWS?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.xv,{"data-testid":"permission-msg",children:"Fides was unable to scan AWS. It appears that the credentials were valid to login but they did not have adequate permission to complete the scan."}),(0,h.jsxs)(l.xv,{children:["To fix this issue, double check that you have granted"," ",(0,h.jsx)(R,{href:D.zu,children:"the required permissions"})," ","to these credentials as part of your IAM policy. If you need more help in configuring IAM policies, you can read about them"," ",(0,h.jsx)(R,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/introduction_access-management.html",children:"here"}),"."]})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.xv,{"data-testid":"generic-msg",children:"Fides was unable to scan your infrastructure. Please ensure your credentials are accurate and inspect the error log below for more details."}),(0,h.jsx)(Y,{message:n.message}),(0,h.jsxs)(l.xv,{children:["If this error does not clarify why scanning failed, please"," ",(0,h.jsx)(R,{href:D.we,children:"create a new issue"}),"."]})]})]})},G=t(97375),Q=t(93225),$=t(44359),J=t(26537),ee=function(e){var n=e.handleConfirm,t=e.isOpen,s=e.onClose,i=e.title,a=e.message,o=e.confirmButtonText,c=void 0===o?"Continue":o,l=e.cancelButtonText,x=void 0===l?"Cancel":l,p=(0,r.useRef)(null);return(0,h.jsx)(J.aR,{isOpen:t,leastDestructiveRef:p,onClose:s,children:(0,h.jsx)(J.dh,{children:(0,h.jsxs)(J._T,{alignItems:"center",textAlign:"center",children:[(0,h.jsx)(u.aN,{marginTop:3}),(0,h.jsx)(J.fY,{fontSize:"lg",fontWeight:"bold",children:i}),(0,h.jsx)(J.iP,{pt:0,children:a}),(0,h.jsxs)(J.xo,{children:[(0,h.jsx)(d.zx,{ref:p,onClick:s,variant:"outline",children:x}),(0,h.jsx)(d.zx,{colorScheme:"primary","data-testid":"warning-modal-confirm-btn",ml:3,onClick:function(){return n()},children:c})]})]})})})},ne=(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.xv,{color:"gray.500",mb:3,children:"Warning, you are about to cancel the scan!"}),(0,h.jsx)(l.xv,{color:"gray.500",mb:3,children:"If you cancel scanning, the scanner will stop and no systems will be returned."}),(0,h.jsx)(l.xv,{color:"gray.500",mb:3,children:"Are you sure you want to cancel?"})]}),te=function(e){var n=e.title,t=e.onClose,r=(0,G.qY)(),s=r.isOpen,i=r.onOpen,a=r.onClose;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(l.Kq,{spacing:8,"data-testid":"scanner-loading",children:[(0,h.jsxs)(l.Ug,{children:[(0,h.jsx)(l.xv,{alignItems:"center",as:"b",color:"gray.900",display:"flex",fontSize:"xl",children:n}),(0,h.jsx)(Q.P,{"data-testid":"close-scan-in-progress",display:"inline-block",onClick:i})]}),(0,h.jsx)(l.Kq,{alignItems:"center",children:(0,h.jsx)($.$,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"green.300",size:"xl"})})]}),(0,h.jsx)(ee,{isOpen:s,onClose:a,handleConfirm:t,title:"Cancel Scan!",message:ne,confirmButtonText:"Yes, Cancel",cancelButtonText:"No, Continue Scanning"})]})},re={aws_access_key_id:"",aws_secret_access_key:"",region_name:""},se=W.Ry().shape({aws_access_key_id:W.Z_().required().trim().matches(/^\w+$/,"Cannot contain spaces or special characters").label("Access Key ID"),aws_secret_access_key:W.Z_().required().trim().matches(/^[^\s]+$/,"Cannot contain spaces").label("Secret"),region_name:W.Z_().required().label("Default Region")}),ie=function(){var e=(0,s.C)(c.De),n=(0,s.T)(),t=(0,E.VY)().successAlert,i=(0,r.useState)(),a=i[0],o=i[1],u=function(e){var r=(null!==e&&void 0!==e?e:[]).filter(B);n((0,c.un)(r)),n((0,c.sz)()),t("Your scan was successfully completed, with ".concat(r.length," new systems detected!"),"Scan Successfully Completed",{isClosable:!0})},x=function(e){var n=(0,M.nU)(e,{status:500,message:"Our system encountered a problem while connecting to AWS."});o(n)},p=function(){n((0,c.sz)(2))},m=(0,N.f)(),f=(0,I.Z)(m,2),j=f[0],g=f[1].isLoading,C=function(){var n=(0,T.Z)(K().mark((function n(t){var r;return K().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(void 0),n.next=3,j({organization_key:e,generate:{config:t,target:A.GC.AWS,type:A.j.SYSTEMS}});case 3:r=n.sent,(0,M.D4)(r)?x(r.error):u(r.data.generate_results);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,h.jsx)(V.J9,{initialValues:re,validationSchema:se,onSubmit:C,children:function(e){var n=e.isValid,t=e.isSubmitting,r=e.dirty;return(0,h.jsx)(V.l0,{"data-testid":"authenticate-aws-form",children:(0,h.jsxs)(l.Kq,{spacing:10,children:[t?(0,h.jsx)(te,{title:"System scanning in progress",onClose:p}):null,a?(0,h.jsx)(X,{error:a,scanType:"aws"}):null,t||a?null:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.X6,{size:"lg",children:"Authenticate Scanner"}),(0,h.jsx)(y.UQ,{allowToggle:!0,border:"transparent",children:(0,h.jsx)(y.Qd,{children:function(e){var n=e.isExpanded;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("h2",{children:["The scanner can be connected to your cloud infrastructure provider to automatically scan and create a list of all systems that may contain personal data.",(0,h.jsx)(y.KF,{display:"inline",padding:"0px",ml:"5px",width:"auto",color:"complimentary.500",children:n?"(show less)":"(show more)"})]}),(0,h.jsxs)(y.Hk,{padding:"0px",mt:"20px",children:["In order to run the scanner, please provide credentials for authenticating to AWS. Please note, the credentials must have the"," ",(0,h.jsx)(R,{href:D.zu,children:"minimum permissions listed in the support documentation here"}),". You can"," ",(0,h.jsx)(R,{href:D._p,children:"copy the sample IAM policy here"}),"."]})]})}})}),(0,h.jsxs)(l.Kq,{children:[(0,h.jsx)(L.j0,{name:"aws_access_key_id",label:"Access Key ID",tooltip:"AWS Access Key ID is the AWS ID associated with the account you want to use for scanning."}),(0,h.jsx)(L.j0,{type:"password",name:"aws_secret_access_key",label:"Secret",tooltip:"The secret access key is generated when you create your new access key ID."}),(0,h.jsx)(L.AP,{name:"region_name",label:"Default Region",tooltip:"Specify the default region in which your infrastructure is located. This is necessary for successful scanning.",options:D.xO})]})]}),t?null:(0,h.jsxs)(l.Ug,{children:[(0,h.jsx)(d.zx,{variant:"outline",onClick:p,children:"Cancel"}),(0,h.jsx)(d.zx,{type:"submit",variant:"primary",isDisabled:!r||!n,isLoading:g,"data-testid":"submit-btn",children:"Save and Continue"})]})]})})}})},ae={orgUrl:"",token:""},oe=W.Ry().shape({orgUrl:W.Z_().required().trim().url().label("URL"),token:W.Z_().required().trim().matches(/^[^\s]+$/,"Cannot contain spaces").label("Token")}),ce=function(){var e=(0,s.C)(c.De),n=(0,s.T)(),t=(0,E.VY)().successAlert,i=(0,r.useState)(),a=i[0],o=i[1],u=function(e){var r=(null!==e&&void 0!==e?e:[]).filter(B);n((0,c.un)(r)),n((0,c.sz)()),t("Your scan was successfully completed, with ".concat(r.length," new systems detected!"),"Scan Successfully Completed",{isClosable:!0})},x=function(e){var n=(0,M.nU)(e,{status:500,message:"Our system encountered a problem while connecting to Okta."});o(n)},p=function(){n((0,c.sz)(2))},m=(0,N.f)(),f=(0,I.Z)(m,2),j=f[0],g=f[1].isLoading,C=function(){var n=(0,T.Z)(K().mark((function n(t){var r;return K().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(void 0),n.next=3,j({organization_key:e,generate:{config:t,target:A.GC.OKTA,type:A.j.SYSTEMS}});case 3:r=n.sent,(0,M.D4)(r)?x(r.error):u(r.data.generate_results);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,h.jsx)(V.J9,{initialValues:ae,validationSchema:oe,onSubmit:C,children:function(e){var n=e.isValid,t=e.isSubmitting,r=e.dirty;return(0,h.jsx)(V.l0,{"data-testid":"authenticate-okta-form",children:(0,h.jsxs)(l.Kq,{spacing:10,children:[t?(0,h.jsx)(te,{title:"System scanning in progress",onClose:p}):null,a?(0,h.jsx)(X,{error:a}):null,t||a?null:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.X6,{size:"lg",children:"Authenticate Scanner"}),(0,h.jsx)(y.UQ,{allowToggle:!0,border:"transparent",children:(0,h.jsx)(y.Qd,{children:function(e){var n=e.isExpanded;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("h2",{children:["The scanner can be connected to your sign-on provider to automatically scan and create a list of all systems that your team are using that may contain personal data.",(0,h.jsx)(y.KF,{display:"inline",padding:"0px",ml:"5px",width:"auto",color:"complimentary.500",children:n?"(show less)":"(show more)"})]}),(0,h.jsx)(y.Hk,{padding:"0px",mt:"20px",children:"Currently the scanner supports certain Okta. We will be adding support for other sign-on providers (e.g. Auth0,Microsoft, Google) shortly, please let us know if you have specific requests."})]})}})}),(0,h.jsx)(l.iz,{m:"20px 0px !important"}),(0,h.jsxs)(l.xv,{m:"0px !important",children:["In order to run the scanner, please provide your Okta token. You can find"," ",(0,h.jsxs)(R,{href:D.L5,children:["instructions here"," "]})," ","on how to retrieve a suitable token from your Okta administration"]}),"panel.",(0,h.jsxs)(l.Kq,{children:[(0,h.jsx)(L.j0,{name:"orgUrl",label:"Org URL:"}),(0,h.jsx)(L.j0,{name:"token",label:"Okta token:",type:"password"})]})]}),t?null:(0,h.jsxs)(l.Ug,{children:[(0,h.jsx)(d.zx,{variant:"outline",onClick:p,children:"Cancel"}),(0,h.jsx)(d.zx,{type:"submit",variant:"primary",isDisabled:!r||!n,isLoading:g,"data-testid":"submit-btn",children:"Save and Continue"})]})]})})}})},le=t(13450),de=t(10846),ue=t(26595),he=function(){var e=(0,s.T)(),n=(0,le.pm)(),t=(0,_.J9)(),i=(0,I.Z)(t,1)[0],a=(0,_.KW)(),o=(0,I.Z)(a,2),u=o[0],x=o[1].data,p=(0,r.useState)(),m=p[0],f=p[1],j=(0,r.useState)(!1),g=j[0],C=j[1],y=function(e){var n=(0,M.nU)(e,{status:500,message:"Our system encountered a problem while scanning your infrastructure."});f(n)};(0,r.useEffect)((function(){var e=function(){var e=(0,T.Z)(K().mark((function e(){var n,t,r,s;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return n=e.sent,t=n.error,r=!!t&&(0,ue.isAPIError)(t)&&404===t.status,C(!r),e.next=8,u({classify:!0});case 8:s=e.sent,(0,M.D4)(s)&&y(s.error);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[u,i]),(0,r.useEffect)((function(){var t=function(){var t=(0,T.Z)(K().mark((function t(){var r,s,a;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!x){t.next=9;break}return t.next=3,i();case 3:r=t.sent,s=r.data,a=g?(null===s||void 0===s?void 0:s.added_systems)||[]:x.systems,n((0,de.t)("Your scan was successfully completed, with ".concat(a.length," new systems detected!"))),e((0,c.un)(a)),e((0,c.sz)());case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[x,n,e,g,i]);var v=function(){e((0,c.sz)(2))};return m?(0,h.jsxs)(l.Kq,{children:[(0,h.jsx)(X,{error:m}),(0,h.jsx)(l.xu,{children:(0,h.jsx)(d.zx,{variant:"outline",onClick:v,"data-testid":"cancel-btn",children:"Cancel"})})]}):(0,h.jsx)(te,{title:"Infrastructure scanning in progress",onClose:v})},xe=function(){var e=(0,s.C)(c.Ll);return(0,h.jsxs)(h.Fragment,{children:[e===A.GC.AWS?(0,h.jsx)(ie,{}):null,e===A.GC.OKTA?(0,h.jsx)(ce,{}):null,e===Z.D.DATA_FLOW?(0,h.jsx)(he,{}):null]})},pe=t(30268),me=t(70889),fe=function(){var e=function(){var e,n,t=(0,s.T)(),i=function(e){t((0,c.nD)(e)),t((0,c.sz)())},a=(0,me.vz)(),o=(0,I.Z)(a,1)[0],l=(0,me.$f)(),d=(0,I.Z)(l,1)[0],u=(0,me.GQ)(me.Av),h=u.data,x=u.isLoading,p=(0,r.useState)(!1),m=p[0],f=p[1];(0,r.useEffect)((function(){x||m||null!==h&&void 0!==h&&h.name&&null!==h&&void 0!==h&&h.description&&t((0,c.sz)())}),[x,h,t,m]);var j=(0,le.pm)(),g=(0,V.TA)({initialValues:{name:null!==(e=null===h||void 0===h?void 0:h.name)&&void 0!==e?e:"",description:null!==(n=null===h||void 0===h?void 0:h.description)&&void 0!==n?n:""},onSubmit:function(){var e=(0,T.Z)(K().mark((function e(n){var t,r,s,a,c,l,u,x;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),a={name:null!==(t=n.name)&&void 0!==t?t:null===h||void 0===h?void 0:h.name,description:null!==(r=n.description)&&void 0!==r?r:null===h||void 0===h?void 0:h.description,fides_key:null!==(s=null===h||void 0===h?void 0:h.fides_key)&&void 0!==s?s:me.Av,organization_fides_key:me.Av},h){e.next=14;break}return e.next=5,o(a);case 5:if(c=e.sent,!(0,M.D4)(c)){e.next=10;break}return l=(0,M.e$)(c.error),j({status:"error",description:l}),e.abrupt("return");case 10:j.closeAll(),i(a),e.next=23;break;case 14:return e.next=16,d(a);case 16:if(u=e.sent,!(0,M.D4)(u)){e.next=21;break}return x=(0,M.e$)(u.error),j({status:"error",description:x}),e.abrupt("return");case 21:j.closeAll(),i(a);case 23:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),enableReinitialize:!0,validate:function(e){var n={};return e.name||(n.name="Organization name is required"),e.description||(n.description="Organization description is required"),n}});return g}(),n=e.errors,t=e.handleBlur,i=e.handleChange,a=e.handleSubmit,o=e.touched,x=e.values,p=e.isSubmitting;return(0,h.jsx)(C.m$.form,{onSubmit:a,w:"100%","data-testid":"organization-info-form",children:(0,h.jsxs)(l.Kq,{spacing:10,children:[(0,h.jsx)(l.X6,{as:"h3",size:"lg",children:"Create your Organization"}),(0,h.jsx)("div",{children:"Provide your organization information. This information is used to configure your organization in Fides for data map reporting purposes."}),(0,h.jsx)(l.Kq,{children:(0,h.jsxs)(v.NI,{children:[(0,h.jsxs)(l.Kq,{direction:"row",mb:5,justifyContent:"flex-end",children:[(0,h.jsx)(v.lX,{w:"100%",children:"Organization name"}),(0,h.jsx)(pe.II,{type:"text",id:"name",name:"name",focusBorderColor:"gray.700",onChange:i,onBlur:t,value:x.name,isInvalid:o.name&&Boolean(n.name),minW:"65%",w:"65%","data-testid":"input-name"}),(0,h.jsx)(g.u,{fontSize:"md",label:"The legal name of your organization",placement:"right",children:(0,h.jsx)(u.UO,{boxSize:5,color:"gray.400"})})]}),(0,h.jsxs)(l.Kq,{direction:"row",justifyContent:"flex-end",children:[(0,h.jsx)(v.lX,{w:"100%",children:"Description"}),(0,h.jsx)(pe.II,{type:"text",id:"description",name:"description",focusBorderColor:"gray.700",onChange:i,onBlur:t,value:x.description,isInvalid:o.description&&Boolean(n.description),minW:"65%",w:"65%","data-testid":"input-description"}),(0,h.jsx)(g.u,{fontSize:"md",label:"An explanation of the type of organization and primary activity.  For example \u201cAcme Inc. is an e-commerce company that sells scarves.\u201d",placement:"right",children:(0,h.jsx)(u.UO,{boxSize:5,color:"gray.400"})})]})]})}),(0,h.jsx)(d.zx,{type:"submit",variant:"primary",isDisabled:!x.name||!x.description,isLoading:p,"data-testid":"submit-btn",children:"Save and Continue"})]})})},je=t(11163),ge=t(16488),Ce=t(63908),ye=t(37903),ve=t(67087),be=[{name:"Name",attribute:"name"},{name:"System type",attribute:"system_type"},{name:"Resource ID",attribute:"fidesctl_meta.resource_id"}],we=function(){var e=(0,s.C)(c.j4),n=(0,s.T)(),t=(0,je.useRouter)(),i=(0,Ce.d)().systemOrDatamapRoute,a=(0,G.qY)(),o=a.isOpen,u=a.onOpen,x=a.onClose,p=(0,ve.dB)(),m=(0,I.Z)(p,1)[0],f=(0,r.useState)(e),j=f[0],g=f[1],C=(0,r.useState)(be),y=C[0],v=C[1],b=(0,s.C)(c.Ll),w=(0,E.HK)().handleError,S=function(e){t.push(e).then((function(){n((0,c.mc)())}))},O=function(){var e=(0,T.Z)(K().mark((function e(){var t;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(j);case 2:if(t=e.sent,!(0,M.D4)(t)){e.next=5;break}return e.abrupt("return",w(t.error));case 5:if(b!==Z.D.DATA_FLOW){e.next=8;break}return n((0,ve.Wc)(j)),e.abrupt("return",S("/classify-systems"));case 8:return e.abrupt("return",S(i));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){n((0,c.sz)(2))},z=(0,h.jsxs)(l.xv,{color:"gray.500",mb:3,children:["You\u2019re registering ",j.length," of ",e.length," systems available. Do you want to continue with registration or cancel and register all systems now?"]});return(0,h.jsxs)(l.xu,{maxW:"full",children:[(0,h.jsxs)(l.Kq,{spacing:10,children:[(0,h.jsx)(l.X6,{as:"h3",size:"lg","data-testid":"scan-results",children:"Scan results"}),0===e.length?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.xv,{"data-testid":"no-results",children:"No results were found for your infrastructure scan."}),(0,h.jsx)(l.Ug,{children:(0,h.jsx)(d.zx,{variant:"outline",onClick:k,"data-testid":"back-btn",children:"Back"})})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(l.xu,{children:[(0,h.jsx)(l.xv,{children:"Below are the results of your infrastructure scan. To continue, select the systems you would like registered in your data map and reports."}),(0,h.jsx)(l.xu,{display:"flex",justifyContent:"end",children:(0,h.jsx)(ge.s,{allColumns:be,selectedColumns:y,onChange:v})})]}),(0,h.jsx)(ye.cK,{allSystems:e,checked:j,onChange:g,columns:y}),(0,h.jsxs)(l.Ug,{children:[(0,h.jsx)(d.zx,{variant:"outline",onClick:k,children:"Back"}),(0,h.jsx)(d.zx,{variant:"primary",isDisabled:0===j.length,"data-testid":"register-btn",onClick:function(){e.length>j.length?u():O()},children:"Register selected systems"})]})]})]}),(0,h.jsx)(ee,{title:"Warning",message:z,handleConfirm:O,isOpen:o,onClose:x})]})},Se=t(78522),Oe=function(e){var n,t=e.systemInReview,r=e.systemsForReview,i=e.onAddNextSystem,a=null!==(n=t.name)&&void 0!==n?n:t.fides_key,o=(0,s.T)(),c=(0,je.useRouter)(),x=(0,Ce.d)().systemOrDatamapRoute,p=r.findIndex((function(e){return e.fides_key===t.fides_key}));return(0,h.jsx)(C.m$.form,{w:"100%",children:(0,h.jsxs)(l.Kq,{spacing:10,children:[(0,h.jsxs)(l.X6,{as:"h3",color:"green.500",size:"lg","data-testid":"success-page-heading",children:[(0,h.jsx)(l.Ct,{fontSize:"16px",margin:"10px",padding:"10px",variant:"solid",colorScheme:"green",children:"Success"}),a," successfully registered!"]}),(0,h.jsxs)(l.xv,{children:[a," has been successfully added to the registry!"]}),(0,h.jsx)(Se.xJ,{children:(0,h.jsxs)(Se.iA,{variant:"simple",children:[(0,h.jsx)(Se.hr,{children:(0,h.jsx)(Se.Tr,{children:(0,h.jsx)(Se.Th,{pl:0,children:"System Name"})})}),(0,h.jsx)(Se.p3,{children:r.map((function(e,n){return(0,h.jsxs)(Se.Tr,{children:[(0,h.jsx)(Se.Td,{color:n===p?"green.500":void 0,pl:0,children:e.name}),(0,h.jsx)(Se.Td,{children:n<=p?(0,h.jsx)(u.sc,{boxSize:5,"data-testid":"system-reviewed"}):(0,h.jsx)(u.cL,{boxSize:5,"data-testid":"system-needs-review"})})]},"".concat(e.fides_key,"-tr"))}))})]})}),(0,h.jsx)(l.xv,{children:"You can continue to add more systems now or finish."}),(0,h.jsxs)(l.xu,{children:[(0,h.jsx)(d.zx,{onClick:i,mr:2,size:"sm",variant:"outline","data-testid":"add-next-system-btn",children:"Add system manually"}),(0,h.jsx)(d.zx,{onClick:function(){o((0,ve.db)(void 0)),c.push(x)},colorScheme:"primary",size:"sm","data-testid":"finish-btn",children:"Finish"})]})]})})},ke=function(){var e=(0,s.T)(),n=(0,s.C)(c.xx),t=(0,s.C)(c.tT),r=(0,s.C)(c.Mu),a=(0,s.C)(c.j4),o=(0,i.hz)(),g=function(n){e((0,c.q_)(n)),e((0,c.NA)())};return(0,h.jsxs)(h.Fragment,{children:[!o.flags.navV2&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.xu,{bg:"white",children:(0,h.jsxs)(d.zx,{bg:"transparent",fontWeight:"500",m:2,ml:6,onClick:function(){e((0,c.mc)())},children:[(0,h.jsx)(u.LG,{width:"17px"})," Cancel setup"]})}),(0,h.jsx)(l.iz,{orientation:"horizontal"})]}),(0,h.jsx)(l.Kq,{direction:["column","row"],children:(0,h.jsx)(l.Kq,{bg:"white",height:"100vh",width:"100%",children:(0,h.jsxs)(l.Kq,{mt:10,mb:10,direction:"row",spacing:"24px",justifyContent:o.flags.configWizardStepper?void 0:"center",children:[(0,h.jsx)(l.xu,{flexShrink:0,children:(0,h.jsx)(p,{activeStep:n,setActiveStep:function(n){return e((0,c.sz)(n))},steps:D.Ss})}),(0,h.jsxs)(l.xu,{w:4===n?"100%":"40%",children:[1===n?(0,h.jsx)(fe,{}):null,2===n?(0,h.jsx)(P,{}):null,3===n?(0,h.jsx)(xe,{}):null,4===n?(0,h.jsx)(l.xu,{pr:10,children:(0,h.jsx)(we,{})}):null,5===n?(0,h.jsxs)(l.Kq,{direction:"column",children:[t<=3?(0,h.jsx)(x,{activeStep:t,steps:D.M6}):null,1===t&&(0,h.jsx)(m.Z,{system:r,onSuccess:g,abridged:!0}),2===t&&r&&(0,h.jsx)(f.Z,{system:r,onSuccess:g,abridged:!0}),3===t&&r&&(0,h.jsx)(j.Z,{system:r,onSuccess:function(){return e((0,c.NA)())},abridged:!0}),4===t&&r&&(0,h.jsx)(Oe,{systemInReview:r,systemsForReview:a,onAddNextSystem:function(){e((0,c.aY)())}})]}):null]})]})})})]})},ze=t(30004),_e=function(){var e=(0,je.useRouter)(),n=(0,s.T)();return(0,h.jsxs)(l.Kq,{"data-testid":"setup",mr:-14,children:[(0,h.jsx)(l.W2,{height:"35vh",maxW:"100vw",bg:"white",color:"white",children:(0,h.jsx)(ze.Ee,{boxSize:"100%",objectFit:"cover",src:"/images/config_splash.svg",alt:"Data Map"})}),(0,h.jsxs)(l.Kq,{spacing:6,position:"absolute",maxWidth:"50%",minWidth:"600px",children:[(0,h.jsx)(l.X6,{as:"h3",size:"lg",children:"Generate your Data Map"}),(0,h.jsx)("div",{children:"Privacy engineering can seem like an endlessly complex confluence of legal and data engineering terminology - fear not; Fides is here to simplify this. This wizard will help you to very quickly configure Fidesctl and in doing so build your first data map. Along the way you'll learn the basic resources and concepts of privacy engineering with Fides so you can quickly apply in all your work."}),(0,h.jsx)("div",{children:"Let's get started!"}),(0,h.jsxs)(l.Kq,{direction:["column","row"],spacing:"24px",children:[(0,h.jsx)(d.zx,{variant:"primary",onClick:function(){return n((0,c.sz)())},"data-testid":"guided-setup-btn",children:"Generate a Map Automatically (recommended)"}),(0,h.jsx)(d.zx,{variant:"ghost",mr:4,colorScheme:"complimentary",onClick:function(){return e.push("/system")},children:"Skip (Power User)"})]})]})]})},Ae=function(){var e=(0,s.T)(),n=(0,i.hz)(),t=(0,s.C)(c.xx);return(0,r.useEffect)((function(){n.flags.navV2&&e((0,c.sz)(2))}),[e,n.flags.navV2]),(0,h.jsx)(h.Fragment,{children:n.flags.navV2?(0,h.jsx)(o.Z,{title:"Config Wizard",children:(0,h.jsx)(ke,{})}):[0===t?(0,h.jsx)(o.Z,{title:"Config Wizard",children:(0,h.jsx)(_e,{})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(a.Z,{}),(0,h.jsx)(ke,{})]})]})}},26595:function(e,n,t){"use strict";t.d(n,{isAPIError:function(){return r.Bw},isErrorResult:function(){return r.D4}});var r=t(27396)},82590:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add-systems",function(){return t(43999)}])}},function(e){e.O(0,[5372,7601,2890,2350,6211,8522,5657,6648,4,4530,6049,6508,6016,5056,9774,2888,179],(function(){return n=82590,e(e.s=n);var n}));var n=e.O();_N_E=n}]);