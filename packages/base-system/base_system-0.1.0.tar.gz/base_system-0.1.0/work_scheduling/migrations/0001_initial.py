# Generated by Django 3.2 on 2023-02-13 19:27

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('base_system', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='AppointmentTypeName',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_time', models.DateTimeField(auto_now_add=True, null=True, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, null=True, verbose_name='更新时间')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
                ('name', models.CharField(max_length=255, verbose_name='名称')),
                ('code', models.CharField(max_length=255, verbose_name='编码')),
            ],
            options={
                'verbose_name': '预约参数名称',
                'verbose_name_plural': '预约参数名称',
                'db_table': 'ws_appointment_type_name',
            },
        ),
        migrations.CreateModel(
            name='DoctorScheduleDay',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('week_day', models.IntegerField(blank=True, null=True, verbose_name='周几')),
                ('work_date', models.DateField(auto_now_add=True, null=True, verbose_name='日期')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
                ('doctor', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='base_system.doctor')),
            ],
            options={
                'verbose_name': '医生排班日期',
                'verbose_name_plural': '医生排班日期',
                'db_table': 'ws_doctor_schedule_day',
            },
        ),
        migrations.CreateModel(
            name='ScheduleDay',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('week_day', models.IntegerField(blank=True, null=True, verbose_name='周几')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
            ],
            options={
                'verbose_name': '排班日期',
                'verbose_name_plural': '排班日期',
                'db_table': 'ws_schedule_day',
            },
        ),
        migrations.CreateModel(
            name='WorkShiftType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200, verbose_name='名称')),
                ('codenum', models.CharField(blank=True, max_length=200, null=True, verbose_name='编码')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
            ],
            options={
                'verbose_name': '排班类型',
                'verbose_name_plural': '排班类型',
                'db_table': 'ws_work_shift_type',
            },
        ),
        migrations.CreateModel(
            name='WorkShift',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255, verbose_name='名称')),
                ('start_time', models.TimeField(null=True, verbose_name='开始时间')),
                ('end_time', models.TimeField(null=True, verbose_name='截至时间')),
                ('num_count', models.IntegerField(blank=True, null=True, verbose_name='号源')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
                ('week_day', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='work_scheduling.scheduleday', verbose_name='周几')),
                ('ws_type', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='work_scheduling.workshifttype', verbose_name='排班类型')),
            ],
            options={
                'verbose_name': '排班班次',
                'verbose_name_plural': '排班班次',
                'db_table': 'ws_work_shift',
            },
        ),
        migrations.CreateModel(
            name='WorkSchedulingMain',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_time', models.DateTimeField(auto_now_add=True, null=True, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, null=True, verbose_name='更新时间')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
                ('name', models.CharField(max_length=255, verbose_name='名称')),
                ('created_by', models.CharField(blank=True, max_length=100, null=True, verbose_name='创建人')),
                ('updated_by', models.CharField(blank=True, max_length=100, null=True, verbose_name='更新人')),
                ('ws_type', models.CharField(choices=[('1', '医生排班'), ('2', '在线问诊排班'), ('3', '电话问诊排班')], max_length=4, null=True, verbose_name='排班类型')),
                ('hospital', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base_system.hospital', verbose_name='所属医院')),
                ('office', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='base_system.office', verbose_name='所属科室')),
            ],
            options={
                'verbose_name': '排班模板主表',
                'verbose_name_plural': '排班模板主表',
                'db_table': 'ws_work_scheduling_main',
            },
        ),
        migrations.AddField(
            model_name='scheduleday',
            name='work_scheduling_main',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='work_scheduling.workschedulingmain', verbose_name='所属排班主'),
        ),
        migrations.CreateModel(
            name='DoctorWorkShift',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255, verbose_name='名称')),
                ('start_time', models.TimeField(null=True, verbose_name='开始时间')),
                ('end_time', models.TimeField(null=True, verbose_name='截至时间')),
                ('num_count', models.IntegerField(blank=True, null=True, verbose_name='号源')),
                ('left_num', models.IntegerField(null=True, verbose_name='余号')),
                ('work_date', models.DateField(null=True, verbose_name='日期')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
                ('doctor', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='base_system.doctor', verbose_name='所属医生')),
                ('hospital', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='base_system.hospital', verbose_name='所属医院')),
                ('office', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='base_system.office', verbose_name='所属科室')),
                ('week_day', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='work_scheduling.doctorscheduleday', verbose_name='周几')),
                ('ws_type', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='work_scheduling.workshifttype', verbose_name='排班类型')),
            ],
            options={
                'verbose_name': '医生排班班次',
                'verbose_name_plural': '医生排班班次',
                'db_table': 'ws_doctor_work_shift',
            },
        ),
        migrations.CreateModel(
            name='DoctorWorkSchedulingMain',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_time', models.DateTimeField(auto_now_add=True, null=True, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, null=True, verbose_name='更新时间')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
                ('name', models.CharField(max_length=255, verbose_name='名称')),
                ('pb_type', models.CharField(choices=[('1', '医生排班'), ('2', '电话问诊排班'), ('3', '在线问诊排班')], max_length=4, null=True, verbose_name='排班类型')),
                ('start_time', models.DateField(null=True, verbose_name='起始日期')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='createduser', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('doctor', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='base_system.doctor')),
                ('hospital', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base_system.hospital', verbose_name='所属医院')),
                ('office', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='base_system.office', verbose_name='所属科室')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='updateduser', to=settings.AUTH_USER_MODEL, verbose_name='更新人')),
            ],
            options={
                'verbose_name': '医生排班模板主表',
                'verbose_name_plural': '医生排班模板主表',
                'db_table': 'ws_doctor_work_scheduling_main',
            },
        ),
        migrations.AddField(
            model_name='doctorscheduleday',
            name='doctor_work_scheduling_main',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='work_scheduling.doctorworkschedulingmain', verbose_name='所属排班医生'),
        ),
        migrations.CreateModel(
            name='AppointmentParameterSetting',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_time', models.DateTimeField(auto_now_add=True, null=True, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, null=True, verbose_name='更新时间')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
                ('name', models.CharField(max_length=255, verbose_name='名称')),
                ('appoint_advance', models.FloatField(blank=True, null=True, verbose_name='提前预约时长')),
                ('appoint_over_time_refer', models.CharField(blank=True, max_length=100, null=True, verbose_name='预约截止时间参照（是参照开始时间还是结束时间')),
                ('appoint_over_time_type', models.CharField(blank=True, max_length=100, null=True, verbose_name='预约截止时间与参照时间对比是提前还是推迟')),
                ('appoint_over_time', models.CharField(blank=True, max_length=100, null=True, verbose_name='预约截止时间时长')),
                ('cancel_time_refer', models.CharField(blank=True, max_length=100, null=True, verbose_name='取消预约截止时间参照（是参照开始时间还是结束时间')),
                ('cancel_time_type', models.CharField(blank=True, max_length=100, null=True, verbose_name='取消预约截止时间与参照时间对比是提前还是推迟')),
                ('cancel_time', models.CharField(blank=True, max_length=100, null=True, verbose_name='取消预约截止时间')),
                ('appointment_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='work_scheduling.appointmenttypename', verbose_name='类型名称')),
                ('hospital', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base_system.hospital', verbose_name='所属医院')),
            ],
            options={
                'verbose_name': '预约参数配置',
                'verbose_name_plural': '预约参数配置',
                'db_table': 'ws_appointment_parameter_setting',
            },
        ),
    ]
